<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Continuous Availability Overview :: TigerGraph Server User Guide</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">TigerGraph Server User Guide</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="tigergraph-server" data-version="3.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../installation/install.html">TigerGraph Server User Guide</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="internal-architecture.html">TigerGraph Internal Architecture</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/docker.html">Getting started with Docker</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/install.html">Installation Guide</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">The GSQL Shell</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../gsql-shell/using-a-remote-gsql-client.html">Using a Remote GSQL Client</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Data Definition</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-definition/README.html">Data Definition</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Data loading</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-loading/s3-loader-user-guide.html">AWS S3 Loader User Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-loading/spark-connection-via-jdbc-driver.html">Spark Connection Via JDBC Driver</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">System management</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/README.html">System Management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/management-with-gadmin.html">Managing with gadmin</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Security</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/user-access/README.html">User Access Management</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Backup and Restore</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../backup-and-restore/backup-and-restore.html">Backup and Restore</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">REST API Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../API/intro.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../API/built-in-endpoints.html">Built-in Endpoints</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text">References</span>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">TigerGraph Server User Guide</span>
    <span class="version">3.2</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../installation/install.html">TigerGraph Server User Guide</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../installation/install.html">3.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../tigergraph-gui/3.2/graphstudio/overview.html">TigerGraph Web UI Guide</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tigergraph-gui/3.2/graphstudio/overview.html">3.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../installation/install.html">TigerGraph Server User Guide</a></li>
    <li><a href="continuous-availability-overview.html">Continuous Availability Overview</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/lennessyy/tg-server/edit/main/modules/intro/pages/continuous-availability-overview.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Continuous Availability Overview</h1>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a><strong>Introduction:</strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p>HA (High Availability) is a generic term used to describe a computer system which has been architected to deliver higher levels of operational performance through enhanced uptime and throughput than would be expected from a traditional single server node.</p>
</div>
<div class="paragraph">
<p>With Continuous Availability, TigerGraph goes beyond the standard scope and definition of High Availability by providing the following functionality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fault tolerance against loss of database server(s)</p>
<div class="ulist">
<ul>
<li>
<p>Automated recovery of services for Intra-cluster failure</p>
</li>
</ul>
</div>
</li>
<li>
<p>Full native HA support for user-facing applications - Seamless automatic client reconnection to standby GSQL server and GraphStudio servers</p>
</li>
<li>
<p>Failover to remote cluster during Disaster Recovery</p>
</li>
<li>
<p>Improve RoI with additional Replicas</p>
<div class="ulist">
<ul>
<li>
<p>Enhanced Query Throughput performance</p>
</li>
<li>
<p>Increased concurrency for operational workloads</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In short, TigerGraph Continuous Availability provides not only the ability to keep the business application running without any noticeable downtime, but also delivers higher return on investment.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_architecture_design"><a class="anchor" href="#_architecture_design"></a><strong>Architecture Design:</strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p>TigerGraph&#8217;s architecture design relies on active-active replication to keep multiple data copies in sync. This is transparent to the user. The underlying principles of uniform distribution of data are automatically applied no matter how many replicas are stored. Additionally, the placement of replicas is infrastructure-aware to tolerate hardware failures. Continuous availability is a production configuration that customers can pick at cluster installation time. Customers have flexibility to place replicas in specific availability zones or data centers based on their infrastructure requirements.</p>
</div>
<div class="paragraph">
<p>TigerGraph Continuous Availability design provides the following</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Throughput: Each replica is always up to date and handles its share of read requests. This provides higher query concurrency and throughput.</p>
</li>
<li>
<p>If a server goes offline for planned or unplanned reasons, TigerGraph&#8217;s HA design with Automatic Failover will reroute work to the replica nodes of that server, maintaining continuous operation.</p>
</li>
<li>
<p>Higher levels of replication provide more throughput and resilience.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_continuous_availability_definitions"><a class="anchor" href="#_continuous_availability_definitions"></a><strong>Continuous Availability - Definitions:</strong></h3>
<div class="paragraph">
<p>TigerGraph is based on an MPP architecture. All services are distributed uniformly across the cluster. This requires data to be distributed across the cluster. There are two key concepts in the cluster design:</p>
</div>
<div class="paragraph">
<p><strong>Replication Factor</strong>: Replication factor is a characteristic of the cluster design that will determine the number of copies of data that will be stored in the cluster. This is configurable and customers can choose at the time of installation.</p>
</div>
<div class="paragraph">
<p><strong>Partitioning Factor</strong>: Partitioning factor is an internal TigerGraph characteristic of a TigerGraph cluster that determines how the data in the database will be distributed. Based on the nodes of the cluster size, TigerGraph will automatically pick a partitioning factor taking into account the replication factor.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://lh4.googleusercontent.com/_P7MFFMvDh_nwPTS2nS9HRG3anegB9KVvELE2ilxLFiPbQCPeFOUGamzAa0SW4_3Obzn_3yU4PC6H7tDtFAkU6VRwHS0kjQNyoNhTM4enwoptSui8ym1hybp5OEsNnW6dEnIS2-3" alt=" P7MFFMvDh nwPTS2nS9HRG3anegB9KVvELE2ilxLFiPbQCPeFOUGamzAa0SW4 3Obzn 3yU4PC6H7tDtFAkU6VRwHS0kjQNyoNhTM4enwoptSui8ym1hybp5OEsNnW6dEnIS2 3">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>**TigerGraph Cluster Dimensions = P X R**</pre>
</div>
</div>
<div class="paragraph">
<p>In short, TigerGraph cluster can be seen as a combination of data spread across P partitions with multiple copies equal to the number of R Replicas.</p>
</div>
<div class="paragraph">
<p>{% hint style="info" %}
Some Key Cluster Design Considerations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Any cluster size is allowed, except 1x2</p>
</li>
<li>
<p>Minimum number of servers needed for Continuous availability is 3 servers - This is due to Zookeeper quorum dependency.
{% endhint %}</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_continuous_availability_data_operations"><a class="anchor" href="#_continuous_availability_data_operations"></a><strong>Continuous Availability - Data Operations:</strong></h3>
<div class="imageblock">
<div class="content">
<img src="https://lh4.googleusercontent.com/aMAYBqoxtTFLGJU8aoHkqw-ONHDlAnD2AkORJtwoGNJ3UmB_5Xkr3jmSJPahhFkHTR0ENxrwt04SHUEAlFjjFAsKrA-Qp3NXOTNeFgqk6p0EpRBJUghMT0eejqeXb8jegbrwzWMq" alt="aMAYBqoxtTFLGJU8aoHkqw ONHDlAnD2AkORJtwoGNJ3UmB 5Xkr3jmSJPahhFkHTR0ENxrwt04SHUEAlFjjFAsKrA Qp3NXOTNeFgqk6p0EpRBJUghMT0eejqeXb8jegbrwzWMq">
</div>
</div>
<div class="paragraph">
<p>TigerGraph services are based on distributed masterless architecture. By design, the underlying assumption is that all replicas are equal and can service both read and write requests. This is a key differentiation that ensures that no single node can be Single Point of Failure.</p>
</div>
<div class="paragraph">
<p>Write Operations: In order to keep all replicas in sync for full consistency of all data sets, all write operations are sent to all replicas synchronously by default. A write operation is considered complete only if all the replicas acknowledge that the writes are successful.</p>
</div>
<div class="paragraph">
<p>Read Operations: As all replicas are guaranteed to be in sync for all write operations, Read requests can be sent to any replica with no need to verify the data consistency with other replica copies. This optimizes the read performance for read-heavy analytical queries.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="paragraph">
<p>In the following example, the data sets in the cluster are spread across 5 partitions with 2 replicas of data sets i.e. Partitioning Factor of 5 and Replication Factor of 2.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://lh6.googleusercontent.com/ILA6h1vUyamWlPR4oyWGTUt2mPIkzhJWwEYsM6DZoLHA4GKmPe_uz7wi_7UG_YqPaquocOjFAdCeqDaMOlC9k2yyyK87I-2zo85xYfRV19Yo3MsMukRF4M7HS85mGkeMsO19CnFR" alt="ILA6h1vUyamWlPR4oyWGTUt2mPIkzhJWwEYsM6DZoLHA4GKmPe uz7wi 7UG YqPaquocOjFAdCeqDaMOlC9k2yyyK87I 2zo85xYfRV19Yo3MsMukRF4M7HS85mGkeMsO19CnFR">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>All writes go to all replicas (e.g. both 1A and 1B).</p>
</li>
<li>
<p>Reads can be from any one replica (e.g. either 1A or 1B).</p>
</li>
<li>
<p>Distributed queries can read from a mix replicas (e.g. {1A, 2B, 3B, 4A, 5B}.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_continuous_availability_cluster_failover_operations"><a class="anchor" href="#_continuous_availability_cluster_failover_operations"></a><strong>Continuous Availability - Cluster failover operations:</strong></h3>
<div class="paragraph">
<p>TigerGraph design ensures Automatic Failover for Continuous Availability. If a server goes down (hardware or software, planned or unplanned), incoming DB operations can continue. The requests are automatically routed around the unavailable server. The TigerGraph Database scheduler tracks in real time the availability of servers and routes the request to the right servers.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://lh4.googleusercontent.com/XBYH_RR7lba-AsUriJLE1tmTvUbEAdy6uS-vByF_NFpSQNdPFmXk0Xu662-Wf6BBnTn513y5CmycdGGLX85WuXKKebG5PLUHFf6gR2-HUImKOwR2osARD47_Jgx8BjQ5BMyA2UNV" alt="XBYH RR7lba AsUriJLE1tmTvUbEAdy6uS vByF NFpSQNdPFmXk0Xu662 Wf6BBnTn513y5CmycdGGLX85WuXKKebG5PLUHFf6gR2 HUImKOwR2osARD47 Jgx8BjQ5BMyA2UNV">
</div>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="paragraph">
<p>In the event of server failure:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If any single server is unavailable (expected or unexpected):</p>
<div class="ulist">
<ul>
<li>
<p>When it fails to respond after a certain number of tries, requests will automatically divert to another replica (e.g. 3B is unavailable, so use 3A)</p>
</li>
<li>
<p>If it fails in the middle of a transaction, that transaction might be aborted.</p>
</li>
</ul>
</div>
</li>
<li>
<p>System continues to operate, with reduced throughput, until the server is restored.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
