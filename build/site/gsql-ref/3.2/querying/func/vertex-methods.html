<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vertex Functions :: TigerGraph Documentation</title>
    <meta name="generator" content="Antora 3.0.0-alpha.8">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">TigerGraph Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="gsql-ref" data-version="3.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../intro/intro.html">GSQL Language Reference</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../intro/intro.html">Overview</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../tutorials/gsql-101/README.html">GSQL 101</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tutorials/gsql-101/get-set.html">Get Set</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tutorials/gsql-101/define-a-schema.html">Define a Schema</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tutorials/gsql-101/load-data-gsql-101.html">Load Data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tutorials/gsql-101/built-in-select-queries.html">Run Built-in Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tutorials/gsql-101/parameterized-gsql-query.html">Develop Parameterized Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tutorials/gsql-101/review.html">Review</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../tutorials/pattern-matching/README.html">Pattern Matching Tutorial</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tutorials/pattern-matching/get-set.html">Get Set</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tutorials/pattern-matching/load-data.html">Load Data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tutorials/pattern-matching/one-hop-patterns.html">One-hop patterns</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tutorials/pattern-matching/repeating-a-pattern.html">Repeating a 1-Hop Pattern</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tutorials/pattern-matching/multiple-hop-and-accumulation.html">Multiple Hop Patterns and Accumulation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tutorials/pattern-matching/example.html">Example - A Recommender</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../tutorials/pattern-matching/adv/README.html">Advanced Features</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/pattern-matching/adv/per-clause.html">Per Clause (Beta)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/pattern-matching/adv/conjunctive-pattern-matching.html">Conjunctive Pattern Matching (Beta)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/pattern-matching/adv/dml.html">Data Modification</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../tutorials/pattern-matching/summary.html">Summary</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Database definition &amp; Loading</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../ddl-and-loading/system-and-language-basics.html">System &amp; Language Basics</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../ddl-and-loading/defining-a-graph-schema.html">Defining a Graph Schema</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../ddl-and-loading/modifying-a-graph-schema.html">Modifying a Graph Schema</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../ddl-and-loading/creating-a-loading-job.html">Creating a Loading Job</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../ddl-and-loading/running-a-loading-job.html">Running a Loading Job</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Appendix</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ddl-and-loading/appendix/keywords-and-reserved-words.html">DDL Keywords &amp; Reserved Words</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#appendix/gsql-start-to-end-process.adoc">appendix/gsql-start-to-end-process.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Querying</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../introduction-query.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../query-operations.html">CREATE/INTERPRET/INSTALL/RUN QUERY</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../distributed-query-mode.html">Distributed Query Mode</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../data-types.html">Data Types</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../accumulators.html">Accumulators</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../operators-and-expressions.html">Operators and Expressions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="README.html">Functions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="aggregation-functions.html">Aggregation Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="datetime-functions.html">Datetime Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="edge-methods.html">Edge Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="json-object-methods.html">JSON Object Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jsonarray-methods.html">JSON Array Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mathematical-functions.html">Mathematical Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="miscellaneous-functions.html">Miscellaneous Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="query-user-defined-functions.html">Query User-Defined Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="string-functions.html">String Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="type-conversion-functions.html">Type Conversion Functions</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="vertex-methods.html">Vertex Functions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../declaration-and-assignment-statements.html">Declaration and Assignment Statements</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../select-statement/README.html">SELECT Statement</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../select-statement/sql-like-select-statement.html">SQL-like SELECT statement</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../control-flow-statements.html">Control Flow Statements</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../data-modification-statements.html">Data Modification Statements</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../output-statements-and-file-objects.html">Output Statements and FILE Objects</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../exception-statements.html">Exception Statements</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../comments.html">Comments</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Appendix</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../appendix-query/common-errors-and-problems.html">Common Errors and Problems</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../appendix-query/complete-formal-syntax.html">Formal Grammar for Query Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../appendix-query/query-language-reserved-words.html">Query Language Reserved Words</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../appendix-query/example-graphs.html">Example Graphs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../appendix-query/interpreted-gsql-limitations.html">Interpreted GSQL Limitations</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">GSQL Language Reference</span>
    <span class="version">3.2</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../tigergraph-gui/3.2/graphstudio/overview.html">GraphStudio and Admin Portal</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../tigergraph-gui/3.2/graphstudio/overview.html">3.2</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../intro/intro.html">GSQL Language Reference</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../intro/intro.html">3.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../tigergraph-cloud/latest/start/README.html">TigerGraph Cloud</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../tigergraph-cloud/latest/start/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../tigergraph-data-science/3.2/intro/overview.html">TigerGraph Data Science Library</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../tigergraph-data-science/3.2/intro/overview.html">3.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../tigergraph-server/3.2/intro/introduction.html">TigerGraph Server</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../tigergraph-server/3.2/intro/introduction.html">3.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../intro/intro.html">GSQL Language Reference</a></li>
    <li>Querying</li>
    <li><a href="README.html">Functions</a></li>
    <li><a href="vertex-methods.html">Vertex Functions</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/lennessyy/gsql/edit/main/modules/querying/pages/func/vertex-methods.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Vertex Functions</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This page lists the vertex functions that are available in the GSQL query language. The functions are divided into three categories.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Vertex alias methods</p>
<div class="ulist">
<ul>
<li>
<p>Methods available to vertex aliases</p>
</li>
</ul>
</div>
</li>
<li>
<p>Vertex-level access control(VLAC) vertex alias methods</p>
<div class="ulist">
<ul>
<li>
<p>Methods available to vertex aliases that are related to vertex tags.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Vertex functions</p>
<div class="ulist">
<ul>
<li>
<p>Functions that return a vertex or vertex set, or functions that are closely related to certain attributes of <code>VERTEX</code> type variables.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vertex_alias_methods"><a class="anchor" href="#_vertex_alias_methods"></a>Vertex alias methods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the built-in methods of vertex aliases. Methods can be accessed by the dot (<code>.</code>) operator.</p>
</div>
<div class="sect2">
<h3 id="_edgeattribute"><a class="anchor" href="#_edgeattribute"></a><code>edgeAttribute()</code></h3>
<div class="sect3">
<h4 id="_syntax"><a class="anchor" href="#_syntax"></a>Syntax</h4>
<div class="paragraph">
<p><code>v.edgeAttribute( edgeType, attrName )</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description"><a class="anchor" href="#_description"></a>Description</h4>
<div class="paragraph">
<p>From a vertex, traverse edges of a specified type and return the bag of values for a specified edge attribute.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type"><a class="anchor" href="#_return_type"></a>Return type</h4>
<div class="paragraph">
<p><code>BagAccum&lt;attrType&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters"><a class="anchor" href="#_parameters"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>edgeType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The edge type to traverse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attrName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The attribute whose value to retrieve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_filter"><a class="anchor" href="#_filter"></a><code>filter()</code></h3>
<div class="sect3">
<h4 id="_syntax_2"><a class="anchor" href="#_syntax_2"></a>Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">v.neighbors().filter( condition )
v.neighborAttribute().filter( condition )
v.edgeAttribute().filter( condition )</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_description_2"><a class="anchor" href="#_description_2"></a>Description</h4>
<div class="paragraph">
<p>This function is appended to <a href="vertex-methods.md#neighbors"><code>neighbors()</code></a>, <a href="vertex-methods.md#neighborattribute"><code>neighborAttribute()</code></a>, or <a href="vertex-methods.md#edgeattribute"><code>edgeAttribute()</code></a> to filter the output set according to a filter condition. Only elements that satisfy the condition will be returned.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_2"><a class="anchor" href="#_return_type_2"></a>Return type</h4>
<div class="paragraph">
<p><code>BagAccum</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_2"><a class="anchor" href="#_parameters_2"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>condition</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An expression that evaluates to a boolean value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BOOL</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example"><a class="anchor" href="#_example"></a>Example</h4>
<div class="paragraph">
<p>{% code title="Example query" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">CREATE QUERY filterEx (SET&lt;STRING&gt; pIds, INT yr) FOR GRAPH workNet api("v2") {

  SetAccum&lt;vertex&lt;company&gt;&gt; @recentEmplr, @allEmplr;
  BagAccum&lt;string&gt; @diffCountry, @allCountry;

  Start = {person.*};

  L0 = SELECT v
       FROM  Start:v
       WHERE v.id IN pIds
       ACCUM
         # filter using edge attribute
         v.@recentEmplr += v.neighbors("worksFor").filter(worksFor.startYear &gt;= yr),
         v.@allEmplr += v.neighbors("worksFor").filter(true),

        # vertex alias attribute and neighbor type attribute
        v.@diffCountry += v.neighborAttribute("worksFor", "company", "id")
                          .filter(v.locationId != company.country),
        v.@allCountry += v.neighborAttribute("worksFor", "company", "id")
       ;

  PRINT yr, L0[L0.@recentEmplr, L0.@allEmplr, L0.@diffCountry, L0.@allCountry]; // api v2
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>{% code title="Results" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">GSQL &gt; RUN QUERY filterEx(["person1","person2"],2016)
{
  "error": false,
  "message": "",
  "version": {
    "edition": "developer",
    "schema": 0,
    "api": "v2"
  },
  "results": [{
    "L0": [
      {
        "v_id": "person1",
        "attributes": {
          "L0.@diffCountry": ["company2"],
          "L0.@recentEmplr": ["company1"],
          "L0.@allCountry": [ "company1", "company2" ],
          "L0.@allEmplr": [ "company2", "company1" ]
        },
        "v_type": "person"
      },
      {
        "v_id": "person2",
        "attributes": {
          "L0.@diffCountry": ["company1"],
          "L0.@recentEmplr": [],
          "L0.@allCountry": [ "company1", "company2" ],
          "L0.@allEmplr": [ "company2", "company1" ]
        },
        "v_type": "person"
      }
    ],
    "yr": 2016
  }]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_getattr"><a class="anchor" href="#_getattr"></a><code>getAttr()</code></h3>
<div class="sect3">
<h4 id="_syntax_3"><a class="anchor" href="#_syntax_3"></a>Syntax</h4>
<div class="paragraph">
<p><code>v.getAttr(attrName, attrType)</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_3"><a class="anchor" href="#_description_3"></a>Description</h4>
<div class="paragraph">
<p>Returns the value of a vertex attribute on the vertex.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_3"><a class="anchor" href="#_return_type_3"></a>Return type</h4>
<div class="paragraph">
<p><code>attrType</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_3"><a class="anchor" href="#_parameters_3"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attrName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A vertex attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attrType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the attribute value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_neighborattribute"><a class="anchor" href="#_neighborattribute"></a><code>neighborAttribute()</code></h3>
<div class="sect3">
<h4 id="_syntax_4"><a class="anchor" href="#_syntax_4"></a>Syntax</h4>
<div class="paragraph">
<p><code>v.neighborAttribute( edgeType, targetVertexType, attrName )</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_4"><a class="anchor" href="#_description_4"></a>Description</h4>
<div class="paragraph">
<p>From a vertex, traverses edges of a specified type to its neighbors of a specified type, and returns the set of values for a specified attribute.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_4"><a class="anchor" href="#_return_type_4"></a>Return type</h4>
<div class="paragraph">
<p><code>BagAccum&lt;attrType&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_4"><a class="anchor" href="#_parameters_4"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>edgeType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The edge type to traverse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>targetVertexType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The target vertex type to visit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attrName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An attribute of the target vertex type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example_2"><a class="anchor" href="#_example_2"></a>Example</h4>
<div class="paragraph">
<p>For the following graph:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../.gitbook/assets/image%20%2879%29.png" alt="image%20%2879%29">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># If v is Jenny
v.neighborAttribute("friendship", "person", "state") -&gt; ["ca", "ny", "ca"]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_neighbors"><a class="anchor" href="#_neighbors"></a><code>neighbors()</code></h3>
<div class="sect3">
<h4 id="_syntax_5"><a class="anchor" href="#_syntax_5"></a>Syntax</h4>
<div class="paragraph">
<p><code>v.neighbors([edgeType])</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_5"><a class="anchor" href="#_description_5"></a>Description</h4>
<div class="paragraph">
<p>Returns the out-neighbors or undirected neighbors of the vertex. If edge types are provided, it will only return the neighbors connected by the specified edge types.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_5"><a class="anchor" href="#_return_type_5"></a>Return type</h4>
<div class="paragraph">
<p><code>BagAccum&lt;VERTEX&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_5"><a class="anchor" href="#_parameters_5"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>edgeType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. An edge type or a collections of edge types.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code>, <code>SET&lt;STRING&gt;</code>, <code>SetAccum&lt;STRING&gt;</code>, <code>BagAccum&lt;STRING&gt;</code>, <code>ListAccum&lt;STRING&gt;</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example_3"><a class="anchor" href="#_example_3"></a>Example</h4>
<div class="paragraph">
<p>For the following graph:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../.gitbook/assets/image%20%2879%29%20%281%29.png" alt="image%20%2879%29%20%281%29">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># If v is Jenny
v.neighbors() -&gt; ["Dan", "Amily", "Tom"]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_outdegree"><a class="anchor" href="#_outdegree"></a><code>outdegree()</code></h3>
<div class="sect3">
<h4 id="_syntax_6"><a class="anchor" href="#_syntax_6"></a>Syntax</h4>
<div class="paragraph">
<p><code>v.outdegree([edgeType])</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_6"><a class="anchor" href="#_description_6"></a>Description</h4>
<div class="paragraph">
<p>Returns the number of outgoing or undirected edges connected to the vertex. If edge types are provided, it will only return the number of edges of the specified types.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_6"><a class="anchor" href="#_return_type_6"></a>Return type</h4>
<div class="paragraph">
<p><code>INT</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_6"><a class="anchor" href="#_parameters_6"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>edgeType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. An edge type or a collection of edge types.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code>, <code>SET&lt;STRING&gt;</code>, <code>SetAccum&lt;STRING&gt;</code>, <code>BagAccum&lt;STRING&gt;</code>, <code>ListAccum&lt;STRING&gt;</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>{% hint style="warning" %}
<strong>Note on outdegree()</strong>: This function reads a metadata value stored with each vertex, to avoid traversing the graph and thus have a fast response. The snapshot transaction semantics means that outdegree() may sometimes read an old value if there are concurrent write transactions. To guarantee an accurate count, traverse the neighboring edges and count them with a SumAccum, or use a function like neighbors() and then use size() on the set.
{% endhint %}</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setattr"><a class="anchor" href="#_setattr"></a><code>setAttr()</code></h3>
<div class="sect3">
<h4 id="_syntax_7"><a class="anchor" href="#_syntax_7"></a>Syntax</h4>
<div class="paragraph">
<p><code>v.setAttr( attrName, attrType, newValue )</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_7"><a class="anchor" href="#_description_7"></a>Description</h4>
<div class="paragraph">
<p>Sets the specified attribute of a vertex to a new value.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_7"><a class="anchor" href="#_return_type_7"></a>Return type</h4>
<div class="paragraph">
<p>No return value.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_7"><a class="anchor" href="#_parameters_7"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attrName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of an attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attrType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>newValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The new value for the attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vlac_vertex_alias_methods"><a class="anchor" href="#_vlac_vertex_alias_methods"></a>VLAC vertex alias methods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the vertex alias methods used to access and modify tags on vertices,</p>
</div>
<div class="sect2">
<h3 id="_addtags"><a class="anchor" href="#_addtags"></a><code>addTags()</code></h3>
<div class="sect3">
<h4 id="_syntax_8"><a class="anchor" href="#_syntax_8"></a>Syntax</h4>
<div class="paragraph">
<p><code>v.addTags(STRING tag1,... STRING tagN)</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_8"><a class="anchor" href="#_description_8"></a>Description</h4>
<div class="paragraph">
<p>Adds the tags provided in the argument list to the vertex.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_8"><a class="anchor" href="#_return_type_8"></a>Return type</h4>
<div class="paragraph">
<p>No return value.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_8"><a class="anchor" href="#_parameters_8"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tagN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A tag to add to the vertex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example_4"><a class="anchor" href="#_example_4"></a>Example:</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE QUERY addTagsToPerson() {
  Seed = { any };
  # person1 ~ person5 will be tagged as public.
  vSet = SELECT s
         FROM Seed:s
         WHERE s.id IN ("person1","person2","person3","person4","person5")
         ACCUM s.addTags("public");

  # person6 and person7 will be tagged as public and vip.
  vSet = SELECT s
         FROM Seed:s
         WHERE s.id IN ("person6","person7")
         ACCUM s.addTags("vip", "public");

  # person8 will be tagged as vip
  vSet = SELECT s
         FROM Seed:s
         WHERE s.id == "person8"
         ACCUM s.addTags("vip");
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_differencetags"><a class="anchor" href="#_differencetags"></a><code>differenceTags()</code></h3>
<div class="sect3">
<h4 id="_syntax_9"><a class="anchor" href="#_syntax_9"></a>Syntax</h4>
<div class="paragraph">
<p><code>v.differenceTags( v2 )</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_9"><a class="anchor" href="#_description_9"></a>Description</h4>
<div class="paragraph">
<p>Returns the difference in tags between the vertex and another vertex as a set.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_9"><a class="anchor" href="#_return_type_9"></a>Return type</h4>
<div class="paragraph">
<p><code>SET&lt;STRING&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_paramters"><a class="anchor" href="#_paramters"></a>Paramters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A vertex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VERTEX</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example_5"><a class="anchor" href="#_example_5"></a>Example:</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">// return the difference set of tags between two vertices
CREATE QUERY exampleDifferencetags() {
  SetAccum&lt;string&gt; @vAcc;
  vSet = { any };
  vSet = SELECT s
         FROM vSet:s -(_)-&gt; :t
         WHERE t.type == "person"
         ACCUM s.@vAcc += s.differenceTags(t);
  PRINT vSet[vSet.@vAcc];
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gettags"><a class="anchor" href="#_gettags"></a><code>getTags()</code></h3>
<div class="sect3">
<h4 id="_syntax_10"><a class="anchor" href="#_syntax_10"></a>Syntax</h4>
<div class="paragraph">
<p><code>v.getTags()</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_descriptions"><a class="anchor" href="#_descriptions"></a>Descriptions</h4>
<div class="paragraph">
<p>Returns the vertex&#8217;s tags as a set. If the vertex has no tags or is untaggable, it returns an empty set.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_10"><a class="anchor" href="#_return_type_10"></a>Return type</h4>
<div class="paragraph">
<p><code>SET&lt;STRING&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_9"><a class="anchor" href="#_parameters_9"></a>Parameters</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_6"><a class="anchor" href="#_example_6"></a>Example:</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">//print the tags of each vertices, in 2 different ways.
CREATE QUERY exampleGettags() {
  SetAccum&lt;string&gt; @vAcc;
  vSet = { any };
  vSet = SELECT s
         FROM vSet:s
         ACCUM s.@vAcc += s.getTags();
  PRINT vSet[vSet.@vAcc];
  PRINT vSet[vSet.gettags()];
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% hint style="info" %}
Tip: <code>getTags()</code> can be used within a <code>PRINT</code> statement:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PRINT R [R.getTags()];</code></p>
</li>
<li>
<p>or <code>PRINT R WITH TAGS</code> which is syntax sugar, except that it won&#8217;t print <code>"R.getTags()": []</code> for non-taggable vertices.
{% endhint %}</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hastags"><a class="anchor" href="#_hastags"></a><code>hasTags()</code></h3>
<div class="sect3">
<h4 id="_syntax_11"><a class="anchor" href="#_syntax_11"></a>Syntax</h4>
<div class="paragraph">
<p><code>hasTags( tag1, tag2, ..., tagN )</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_10"><a class="anchor" href="#_description_10"></a>Description</h4>
<div class="paragraph">
<p>Returns <code>true</code> if the vertex has every tag provided in the argument list and returns <code>false</code> if it does not.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_11"><a class="anchor" href="#_return_type_11"></a>Return type</h4>
<div class="paragraph">
<p><code>BOOL</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_10"><a class="anchor" href="#_parameters_10"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tagN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A string.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example_7"><a class="anchor" href="#_example_7"></a>Example:</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">USE GRAPH socialNet

CREATE QUERY findVertexWithTag(STRING tag) {
  seed = { ANY };
  res =
    SELECT v
    FROM seed:v
    WHERE v.hasTags(tag)
    ORDER BY v.id;
  PRINT res WITH TAGS;
}

INSTALL QUERY findVertexWithTag

RUN QUERY findVertexWithTag("vip")</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output of the query would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">{
  "error": false,
  "message": "",
  "version": {
    "schema": 2,
    "edition": "enterprise",
    "api": "v2"
  },
  "results": [{"res": [
    {
      "v_id": "person6",
      "attributes": {
        "gender": "Male",
        "id": "person6",
        "res.gettags()": [
          "vip",
          "public"
        ]
      },
      "v_type": "person"
    },
    {
      "v_id": "person7",
      "attributes": {
        "gender": "Male",
        "id": "person7",
        "res.gettags()": [
          "vip",
          "public"
        ]
      },
      "v_type": "person"
    },
    {
      "v_id": "person8",
      "attributes": {
        "gender": "Male",
        "id": "person8",
        "res.gettags()": ["vip"]
      },
      "v_type": "person"
    }
  ]}]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_istaggable"><a class="anchor" href="#_istaggable"></a><code>isTaggable()</code></h3>
<div class="sect3">
<h4 id="_syntax_12"><a class="anchor" href="#_syntax_12"></a>Syntax</h4>
<div class="paragraph">
<p><code>v.isTaggable()</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_11"><a class="anchor" href="#_description_11"></a>Description</h4>
<div class="paragraph">
<p>Returns true if the vertex is taggable.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_12"><a class="anchor" href="#_return_type_12"></a>Return type</h4>
<div class="paragraph">
<p><code>BOOL</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_11"><a class="anchor" href="#_parameters_11"></a>Parameters</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_8"><a class="anchor" href="#_example_8"></a>Example:</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">//count the number of taggable vertices in the graph.
CREATE QUERY countIstaggable() for graph poc_graph_tag {
  SumAccum&lt;int&gt; @@count;
  vSet = { any };
  vSet = SELECT s
         FROM vSet:s
         WHERE s.isTaggable()
         ACCUM @@count += 1;
  PRINT @@count;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_intersecttags"><a class="anchor" href="#_intersecttags"></a><code>intersectTags()</code></h3>
<div class="sect3">
<h4 id="_syntax_13"><a class="anchor" href="#_syntax_13"></a>Syntax</h4>
<div class="paragraph">
<p><code>v.intersectTags( v2 )</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_12"><a class="anchor" href="#_description_12"></a>Description</h4>
<div class="paragraph">
<p>Returns the common tags between the vertex and another vertex as a set.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_13"><a class="anchor" href="#_return_type_13"></a>Return type</h4>
<div class="paragraph">
<p><code>SET&lt;STRING&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_example_9"><a class="anchor" href="#_example_9"></a>Example:</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">//return the intersect set of tags between two vertices.
CREATE QUERY exampleIntersecttags() {
  SetAccum&lt;string&gt; @vAcc;
  vSet = { any };
  vSet = SELECT s
         FROM vSet:s -(_)-&gt; :t
         WHERE t.type == "person"
         ACCUM s.@vAcc += s.intersectTags(t);
  PRINT vSet[vSet.@vAcc];
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_removealltags"><a class="anchor" href="#_removealltags"></a><code>removeAllTags()</code></h3>
<div class="sect3">
<h4 id="_syntax_14"><a class="anchor" href="#_syntax_14"></a>Syntax</h4>
<div class="paragraph">
<p><code>v.removeAllTags()</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_13"><a class="anchor" href="#_description_13"></a>Description</h4>
<div class="paragraph">
<p>Removes all tags from the vertex.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_14"><a class="anchor" href="#_return_type_14"></a>Return type</h4>
<div class="paragraph">
<p>No return value.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_12"><a class="anchor" href="#_parameters_12"></a>Parameters</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_10"><a class="anchor" href="#_example_10"></a>Example:</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">//remove all tags from all person vertices.
CREATE QUERY removealltagsFromPerson() {
  vSet = { person.* };
  # remove all tags from all person vertices
  vSet = SELECT s
         FROM vSet:s
         ACCUM s.removeAllTags();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_removetags"><a class="anchor" href="#_removetags"></a><code>removeTags()</code></h3>
<div class="sect3">
<h4 id="_syntax_15"><a class="anchor" href="#_syntax_15"></a>Syntax</h4>
<div class="paragraph">
<p><code>removeTags( tag1, tag2, ..., tagN )</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_14"><a class="anchor" href="#_description_14"></a>Description</h4>
<div class="paragraph">
<p>Removes the tags provided in the argument list from the vertex.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_15"><a class="anchor" href="#_return_type_15"></a>Return type</h4>
<div class="paragraph">
<p>No return value.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_13"><a class="anchor" href="#_parameters_13"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tagN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A string value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example_11"><a class="anchor" href="#_example_11"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">//remove tag “vip” and “public” from all person vertices.
CREATE QUERY removetagsFromPerson() {
  vSet = { person.* };
  # remove tag vip and public from all person vertices
  vSet = SELECT s
         FROM vSet:s
         ACCUM s.removeTags("vip", "public");
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vertex_functions"><a class="anchor" href="#_vertex_functions"></a>Vertex functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The functions in this section either have return values of vertex or vertex set type or are closely related to vertex attributes.</p>
</div>
<div class="sect2">
<h3 id="_getvid"><a class="anchor" href="#_getvid"></a><code>getvid()</code></h3>
<div class="sect3">
<h4 id="_syntax_16"><a class="anchor" href="#_syntax_16"></a>Syntax</h4>
<div class="paragraph">
<p><code>getvid( id )</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_15"><a class="anchor" href="#_description_15"></a>Description</h4>
<div class="paragraph">
<p>Returns the <em>internal</em> ID number of a vertex.</p>
</div>
<div class="paragraph">
<p>The internal ID is not the primary ID which the user assigned when creating the vertex. However, there is a 1-to-1 mapping between the external ID (<code>primary_id</code>) and internal ID.</p>
</div>
<div class="paragraph">
<p>The engine can access the internal ID faster than accessing the external ID, so if a query needs unique values for a large number of vertices, but doesn&#8217;t care about particular values, <code>getvid()</code> can be a useful option. For example, in many community detection algorithms, we start by assigning every vertex a unique community ID. Then, as the algorithm progresses, some vertices will join the community of one of their neighbors, giving up their current community ID and copying the IDs of their neighbors.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_16"><a class="anchor" href="#_return_type_16"></a>Return type</h4>
<div class="paragraph">
<p><code>STRING</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_14"><a class="anchor" href="#_parameters_14"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The primary ID of a vertex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_selectvertex"><a class="anchor" href="#_selectvertex"></a><code>selectVertex()</code></h3>
<div class="sect3">
<h4 id="_syntax_17"><a class="anchor" href="#_syntax_17"></a>Syntax</h4>
<div class="paragraph">
<p><code>selectVertex( filepath, vertexIdColumn, vertexTypeColumn, seperator, header)</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_16"><a class="anchor" href="#_description_16"></a>Description</h4>
<div class="paragraph">
<p>Reads a data file that lists particular vertices of the graph and returns the corresponding vertex set. This function can only be used in a vertex set variable declaration statement as a seed set and the vertices in the data file <strong>must already be in the graph</strong>. The data file must be organized as a table with one or more columns. One column must be for vertex ID. Optionally, another column is for vertex type.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_17"><a class="anchor" href="#_return_type_17"></a>Return type</h4>
<div class="paragraph">
<p><code>SET&lt;VERTEX&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parametersparameter"><a class="anchor" href="#_parametersparameter"></a>Parameters<table><thead><tr><th style="text-align:left">Parameter</th></h4>
<div class="literalblock">
<div class="content">
<pre>    +++&lt;th style="text-align:left"&gt;+++Description+++&lt;/th&gt;+++
    +++&lt;th style="text-align:left"&gt;+++Data type+++&lt;/th&gt;++++++&lt;/tr&gt;++++++&lt;/thead&gt;+++
+++&lt;tbody&gt;++++++&lt;tr&gt;++++++&lt;td style="text-align:left"&gt;++++++&lt;code&gt;+++filePath+++&lt;/code&gt;++++++&lt;/td&gt;+++
    +++&lt;td style="text-align:left"&gt;+++The absolute file path of the input file to be read. A relative path is
      not supported.+++&lt;/td&gt;+++
    +++&lt;td style="text-align:left"&gt;++++++&lt;code&gt;+++STRING+++&lt;/code&gt;++++++&lt;/td&gt;++++++&lt;/tr&gt;+++
  +++&lt;tr&gt;++++++&lt;td style="text-align:left"&gt;++++++&lt;code&gt;+++vertexIdColumn+++&lt;/code&gt;++++++&lt;/td&gt;+++
    +++&lt;td style="text-align:left"&gt;++++++&lt;p&gt;+++The vertex ID column position.+++&lt;/p&gt;+++
      +++&lt;p&gt;++++++&lt;/p&gt;+++
      +++&lt;p&gt;+++The index for column positions starts at 0. Therefore, to designate the
        first column as the ID column, set this parameter to +++&lt;code&gt;+++$0+++&lt;/code&gt;+++.+++&lt;/p&gt;++++++&lt;/td&gt;+++
    +++&lt;td style="text-align:left"&gt;++++++&lt;p&gt;++++++&lt;code&gt;+++$ num+++&lt;/code&gt;++++++&lt;em&gt;+++.+++&lt;/em&gt;++++++&lt;/p&gt;+++
      +++&lt;p&gt;++++++&lt;br&gt;++++++&lt;/br&gt;+++If +++&lt;code&gt;+++header+++&lt;/code&gt;+++ is set to true,+++&lt;code&gt;+++$ &amp;quot;column_name&amp;quot;+++&lt;/code&gt;+++ is
        also acceptable.+++&lt;/p&gt;++++++&lt;/td&gt;++++++&lt;/tr&gt;+++
  +++&lt;tr&gt;++++++&lt;td style="text-align:left"&gt;++++++&lt;code&gt;+++vertexTypeColumn+++&lt;/code&gt;++++++&lt;/td&gt;+++
    +++&lt;td style="text-align:left"&gt;+++The vertex type column position or a specific vertex type.+++&lt;/td&gt;+++
    +++&lt;td style="text-align:left"&gt;++++++&lt;p&gt;++++++&lt;code&gt;+++$ num+++&lt;/code&gt;++++++&lt;em&gt;+++.+++&lt;/em&gt;++++++&lt;/p&gt;+++
      +++&lt;p&gt;++++++&lt;br&gt;++++++&lt;/br&gt;+++If +++&lt;code&gt;+++header+++&lt;/code&gt;+++ is set to true,+++&lt;code&gt;+++$ &amp;quot;column_name&amp;quot;+++&lt;/code&gt;+++ is
        also acceptable.+++&lt;/p&gt;+++
      +++&lt;p&gt;++++++&lt;/p&gt;+++
      +++&lt;p&gt;+++Alternatively, a vertex type without double quotes.+++&lt;/p&gt;++++++&lt;/td&gt;++++++&lt;/tr&gt;+++
  +++&lt;tr&gt;++++++&lt;td style="text-align:left"&gt;++++++&lt;code&gt;+++separator+++&lt;/code&gt;++++++&lt;/td&gt;+++
    +++&lt;td style="text-align:left"&gt;+++The column separator character.+++&lt;/td&gt;+++
    +++&lt;td style="text-align:left"&gt;++++++&lt;code&gt;+++STRING+++&lt;/code&gt;++++++&lt;/td&gt;++++++&lt;/tr&gt;+++
  +++&lt;tr&gt;++++++&lt;td style="text-align:left"&gt;++++++&lt;code&gt;+++header+++&lt;/code&gt;++++++&lt;/td&gt;+++
    +++&lt;td style="text-align:left"&gt;+++Whether this file has a header.+++&lt;/td&gt;+++
    +++&lt;td style="text-align:left"&gt;+++`BOO+++&lt;/td&gt;++++++&lt;/tr&gt;++++++&lt;/tbody&gt;++++++&lt;/table&gt;+++</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_12"><a class="anchor" href="#_example_12"></a>Example</h4>
<div class="paragraph">
<p>{% code title="selectVertex.csv" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">ID,type
Dan,person
Jenny,person
Amily,person</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>{% code title="Example query" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE QUERY selectVertexEx(STRING filename) FOR GRAPH socialNet {
  S1 = {SelectVertex(filename, $"c1", $1, ",", true)};
  S2 = {SelectVertex(filename, $0, person, ",", true)};
  PRINT S1, S2; # Both sets of inputs product the same result
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>{% code title="Results" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">RUN QUERY selectVertex("/home/tigergraph/mydata/selectVertex.csv")
{
    "S1": [
      {
        "attributes": {
          "age": 0,
          "gender": "female",
          "name": "Amily",
          "state": "ca"
        },
        "v_id": "Amily",
        "v_type": "person"
      },
      {
        "attributes": {
          "age": 1,
          "gender": "male",
          "name": "Dan",
          "state": "ny"
        },
        "v_id": "Dan",
        "v_type": "person"
      },
      {
        "attributes": {
          "age": 1,
          "gender": "female",
          "name": "Jenny",
          "state": "tx"
        },
        "v_id": "Jenny",
        "v_type": "person"
      }
    ],
    "S2": [
      {
        "attributes": {
          "age": 0,
          "gender": "female",
          "name": "Amily",
          "state": "ca"
        },
        "v_id": "Amily",
        "v_type": "person"
      },
      {
        "attributes": {
          "age": 1,
          "gender": "male",
          "name": "Dan",
          "state": "ny"
        },
        "v_id": "Dan",
        "v_type": "person"
      },
      {
        "attributes": {
          "age": 1,
          "gender": "female",
          "name": "Jenny",
          "state": "tx"
        },
        "v_id": "Jenny",
        "v_type": "person"
      }
    ]
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_to_vertex"><a class="anchor" href="#_to_vertex"></a><code>to_vertex()</code></h3>
<div class="paragraph">
<p>{% hint style="danger" %}
Running <code>to_vertex() and to_vertex_set()</code> requires real-time conversion of an external ID to a GSQL internal ID, which is a relatively slow process. Therefore,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the user can always know the id before running the query, define the query with <code>VERTEX</code> or <code>SET&lt;VERTEX&gt;</code> parameters instead of <code>STRING</code> or <code>SET&lt;STRING&gt;</code> parameters, and avoid calling <code>to_vertex()</code> or <code>to_vertex_set()</code>.</p>
</li>
<li>
<p>Calling <code>to_vertex_set()</code> one time is much faster than calling <code>to_vertex()</code> multiple times. Use <code>to_vertex_set()</code> instead of <code>to_vertex()</code> as much as possible.
{% endhint %}</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_syntax_18"><a class="anchor" href="#_syntax_18"></a>Syntax</h4>
<div class="paragraph">
<p><code>to_vertex( id, vertex_type )</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_17"><a class="anchor" href="#_description_17"></a>Description</h4>
<div class="paragraph">
<p>Returns a vertex from a string ID and vertex type. If a vertex with the provided ID and type does not exist, the function will throw a run-time error.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_18"><a class="anchor" href="#_return_type_18"></a>Return type</h4>
<div class="paragraph">
<p><code>VERTEX</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_15"><a class="anchor" href="#_parameters_15"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The ID of a vertex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vertex_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the vertex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example_13"><a class="anchor" href="#_example_13"></a>Example</h4>
<div class="paragraph">
<p>{% code title="Example query using to_vertex()" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">CREATE QUERY to_vertex_test (STRING uid, STRING vtype) FOR GRAPH social {
  VERTEX v;

  v = to_vertex (uid, vtype);			# to_vertex assigned to a vertex variable
  PRINT v;								# vertex variable -&gt; only vertex id is printed
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>{% code title="Query result" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">GSQL &gt; RUN QUERY to_vertex_test("Dan", "person")
{
  "error": false,
  "message": "",
  "version": {
    "schema": 1,
    "edition": "enterprise",
    "api": "v2"
  },
  "results": [{"v": "Dan"}]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_to_vertex_set"><a class="anchor" href="#_to_vertex_set"></a><code>to_vertex_set()</code></h3>
<div class="sect3">
<h4 id="_syntax_19"><a class="anchor" href="#_syntax_19"></a>Syntax</h4>
<div class="paragraph">
<p><code>to_vertex_set( id_set, vertex_type)</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_description_18"><a class="anchor" href="#_description_18"></a>Description</h4>
<div class="paragraph">
<p>Returns a vertex set from a set or bag of string IDs and a vertex type. If there are invalid IDs in the set, those IDs will be skipped and the response will contain a warning message. If the vertex type does not exist, the function will throw a run-time error.</p>
</div>
</div>
<div class="sect3">
<h4 id="_return_type_19"><a class="anchor" href="#_return_type_19"></a>Return type</h4>
<div class="paragraph">
<p><code>SET&lt;VERTEX&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_16"><a class="anchor" href="#_parameters_16"></a>Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Data type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id_set</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A set of vertex IDs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SET&lt;STRING&gt;, BAG&lt;STRING&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vertex_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the vertices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STRING</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example_14"><a class="anchor" href="#_example_14"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">CREATE QUERY to_vertex_set_test (SET&lt;STRING&gt; uids, STRING vtype) FOR GRAPH social {

  S2 = to_vertex_set (uids, vtype); # to_vertex_set assigned to a vertex set variable
  PRINT S2;								# vertex set variable-&gt; full details printed
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">GSQL &gt; run query to_vertex_set_test(["Dan", "Amily", "Jeff"], "person")
{
  "error": false,
  "message": "Runtime Warning: 1 ids are invalid person vertex ids.",
  "version": {
    "schema": 1,
    "edition": "enterprise",
    "api": "v2"
  },
  "results": [{"S2": [
    {
      "v_id": "Amily",
      "attributes": {
        "gender": "female",
        "name": "Amily",
        "state": "ca",
        "age": 0
      },
      "v_type": "person"
    },
    {
      "v_id": "Dan",
      "attributes": {
        "gender": "male",
        "name": "Dan",
        "state": "ny",
        "age": 1
      },
      "v_type": "person"
    }
  ]}]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
