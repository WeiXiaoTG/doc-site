<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Output Statements and FILE Objects :: TigerGraph Documentation</title>
    <meta name="generator" content="Antora 3.0.0-alpha.8">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">TigerGraph Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="gsql-ref" data-version="3.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../intro/intro.html">GSQL Language Reference</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../intro/intro.html">Overview</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tutorials/gsql-101/README.html">GSQL 101</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/gsql-101/get-set.html">Get Set</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/gsql-101/define-a-schema.html">Define a Schema</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/gsql-101/load-data-gsql-101.html">Load Data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/gsql-101/built-in-select-queries.html">Run Built-in Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/gsql-101/parameterized-gsql-query.html">Develop Parameterized Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/gsql-101/review.html">Review</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tutorials/pattern-matching/README.html">Pattern Matching Tutorial</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/pattern-matching/get-set.html">Get Set</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/pattern-matching/load-data.html">Load Data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/pattern-matching/one-hop-patterns.html">One-hop patterns</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/pattern-matching/repeating-a-pattern.html">Repeating a 1-Hop Pattern</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/pattern-matching/multiple-hop-and-accumulation.html">Multiple Hop Patterns and Accumulation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/pattern-matching/example.html">Example - A Recommender</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tutorials/pattern-matching/adv/README.html">Advanced Features</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/pattern-matching/adv/per-clause.html">Per Clause (Beta)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/pattern-matching/adv/conjunctive-pattern-matching.html">Conjunctive Pattern Matching (Beta)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/pattern-matching/adv/dml.html">Data Modification</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/pattern-matching/summary.html">Summary</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Database definition &amp; Loading</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ddl-and-loading/system-and-language-basics.html">System &amp; Language Basics</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ddl-and-loading/defining-a-graph-schema.html">Defining a Graph Schema</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ddl-and-loading/modifying-a-graph-schema.html">Modifying a Graph Schema</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ddl-and-loading/creating-a-loading-job.html">Creating a Loading Job</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ddl-and-loading/running-a-loading-job.html">Running a Loading Job</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Appendix</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ddl-and-loading/appendix/keywords-and-reserved-words.html">DDL Keywords &amp; Reserved Words</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#appendix/gsql-start-to-end-process.adoc">appendix/gsql-start-to-end-process.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Querying</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction-query.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="query-operations.html">CREATE/INTERPRET/INSTALL/RUN QUERY</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="distributed-query-mode.html">Distributed Query Mode</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="data-types.html">Data Types</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="accumulators.html">Accumulators</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="operators-and-expressions.html">Operators and Expressions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="func/README.html">Functions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="func/aggregation-functions.html">Aggregation Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="func/datetime-functions.html">Datetime Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="func/edge-methods.html">Edge Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="func/json-object-methods.html">JSON Object Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="func/jsonarray-methods.html">JSON Array Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="func/mathematical-functions.html">Mathematical Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="func/miscellaneous-functions.html">Miscellaneous Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="func/query-user-defined-functions.html">Query User-Defined Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="func/string-functions.html">String Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="func/type-conversion-functions.html">Type Conversion Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="func/vertex-methods.html">Vertex Functions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="declaration-and-assignment-statements.html">Declaration and Assignment Statements</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="select-statement/README.html">SELECT Statement</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="select-statement/sql-like-select-statement.html">SQL-like SELECT statement</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="control-flow-statements.html">Control Flow Statements</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="data-modification-statements.html">Data Modification Statements</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="output-statements-and-file-objects.html">Output Statements and FILE Objects</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="exception-statements.html">Exception Statements</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="comments.html">Comments</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Appendix</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="appendix-query/common-errors-and-problems.html">Common Errors and Problems</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="appendix-query/complete-formal-syntax.html">Formal Grammar for Query Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="appendix-query/query-language-reserved-words.html">Query Language Reserved Words</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="appendix-query/example-graphs.html">Example Graphs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="appendix-query/interpreted-gsql-limitations.html">Interpreted GSQL Limitations</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">GSQL Language Reference</span>
    <span class="version">3.2</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../tigergraph-gui/3.2/graphstudio/overview.html">GraphStudio and Admin Portal</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tigergraph-gui/3.2/graphstudio/overview.html">3.2</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../intro/intro.html">GSQL Language Reference</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../intro/intro.html">3.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../tigergraph-cloud/latest/start/README.html">TigerGraph Cloud</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tigergraph-cloud/latest/start/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../tigergraph-data-science/3.2/intro/overview.html">TigerGraph Data Science Library</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tigergraph-data-science/3.2/intro/overview.html">3.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../tigergraph-server/3.2/intro/introduction.html">TigerGraph Server</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tigergraph-server/3.2/intro/introduction.html">3.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../intro/intro.html">GSQL Language Reference</a></li>
    <li>Querying</li>
    <li><a href="output-statements-and-file-objects.html">Output Statements and FILE Objects</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/lennessyy/gsql/edit/main/modules/querying/pages/output-statements-and-file-objects.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Output Statements and FILE Objects</h1>
<div class="sect1">
<h2 id="_print_statement_api_v2"><a class="anchor" href="#_print_statement_api_v2"></a><code>PRINT</code> Statement (API v2)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The PRINT statement specifies output data. Each execution of a PRINT statement adds a JSON object to the results array which will be part of the query output. A PRINT statement can appear anywhere that query-body statements are permitted.</p>
</div>
<div class="paragraph">
<p>{% hint style="warning" %}
 A PRINT statement does not trigger immediate output.  The full set of data from all PRINT statements is delivered at one time, when the query concludes.</p>
</div>
<div class="paragraph">
<p>A query can print a maximum of 2GB of data.</p>
</div>
<div class="paragraph">
<p>If the output is to a FILE object, then the size limit does not apply.
{% endhint %}</p>
</div>
<div class="paragraph">
<p>{% code title="EBNF" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">printStmt := PRINT printExpr ("," printExpr)* [WHERE condition] [TO_CSV (filePath | fileVar)]
printExpr := (expr | vExprSet) [ AS jsonKey]
           | tableName
vExprSet  := expr "[" vSetProj ("," vSetProj)* "]"
vSetProj  := expr [ AS jsonKey]
jsonKey := name</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>Each PRINT statement contains a list of expressions for output data. The optional WHERE clause filters the output. If the <em>condition</em> is false for any items, then those items are excluded from the output.</p>
</div>
<div class="paragraph">
<p>Each <code>printExpr</code> __contributes one key-value pair to the PRINT statement&#8217;s JSON object result.  The optional AS clause sets the JSON key for the expression, overriding the default key (explained below).</p>
</div>
<div class="paragraph">
<p>{% hint style="info" %}
If the query includes one more tabular SELECT statements, the PRINT statement can include table names. Both tabular and non-tabular <code>printExpr</code> expressions can be including in one PRINT statement.
{% endhint %}</p>
</div>
<div class="paragraph">
<p>{% code title="Simple Example Showing JSON Output Format" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">STRING str = "first statement";
INT number = 5;
PRINT str, number;

str = "second statement";
number = number + 1;
PRINT str, number;

# The statements above produce the following output
{
  "version": {"edition": "developer","api": "v2","schema": 0},
  "error": false,
  "message": "",
  "results": [
    {
      "str": "first statement",
      "number": 5
    },
    {
      "str": "second statement",
      "number": 6
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="sect2">
<h3 id="_print_expressions"><a class="anchor" href="#_print_expressions"></a><code>PRINT</code> Expressions</h3>
<div class="paragraph">
<p>Each <em>`printExpr`</em> may be one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A literal value</p>
</li>
<li>
<p>A global or local variable (including <code>VERTEX</code> and <code>EDGE</code> variables)</p>
</li>
<li>
<p>An attribute of a vertex variable, e.g., Person.name</p>
</li>
<li>
<p>A global accumulator</p>
</li>
<li>
<p>An expression whose terms are among the types above.  The following operators may be used:</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Data type</th>
<th class="tableblock halign-left valign-top">Operators</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">concatenation: <code>+</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UNION INTERSECT MINUS</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arithmetic: <code>+ - * / . %</code>  Bit: <code>&lt;&lt; &gt;&gt; &amp; |</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Parentheses can be used for controlling order of precedence.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A vertex set variable</p>
</li>
<li>
<p>A vertex expression set <em>`vExprSet`</em> (only available if the output API is set to <code>"v2"</code>. Vertex expression sets are explained in a <a href="output-statements-and-file-objects.md#vertex-expression-set">separate section below</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_json_format_keys"><a class="anchor" href="#_json_format_keys"></a>JSON Format: Keys</h3>
<div class="paragraph">
<p>If a <em>`printExpr`</em> includes the optional <strong>AS</strong> <em>*name*</em> clause, then the <em>name</em> sets the key for that expression in the JSON output. Otherwise, the following rules determine the key: If the expression is simply a single variable (local variable, global variable, global accumulator, or vertex set variable), then the key is the variable name.  Also, for a vertex expression set, the key is the vertex set variable name. Otherwise, the key is the entire expression, represented as a string.</p>
</div>
</div>
<div class="sect2">
<h3 id="_json_format_values"><a class="anchor" href="#_json_format_values"></a><strong>JSON Format: Values</strong></h3>
<div class="paragraph">
<p>Each data type has a distinct output format.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Simple numeric, string, and boolean data types follow JSON standards.</p>
</li>
<li>
<p>Lists, sets, bags, and arrays are printed as JSON <strong>arrays</strong> (i.e., a list enclosed in square brackets).</p>
</li>
<li>
<p>Maps and tuples are printed as JSON <strong>objects</strong> (i.e., a list of key:value pairs enclosed in curly braces).</p>
</li>
<li>
<p>Vertices and edges have a custom JSON object, shown below.</p>
</li>
<li>
<p>A vertex set variable is treated as a list of vertices.</p>
</li>
<li>
<p>Accumulator output format is determined by the accumulator&#8217;s return type. For example, an <code>AvgAccum</code> outputs a <code>DOUBLE</code> value, and a <code>BitwiseAndAccum</code> outputs an <code>INT</code> value. For container accumulators, simply consider whether the output is a list, set, bag, or map.</p>
<div class="ulist">
<ul>
<li>
<p><code>ListAccum</code>, <code>SetAccum</code>, <code>BagAccum</code>, <code>ArrayAccum</code>: list</p>
</li>
<li>
<p><code>MapAccum</code>: map</p>
</li>
<li>
<p><code>HeapAccum</code>, <code>GroupByAccum</code>: list of tuples</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>{% hint style="danger" %}
Full details of vertices are printed only when part of a vertex set variable or vertex expression set. When a single vertex is printed (from a variable or accumulator whose data type happens to be VERTEX), only the vertex id is printed.</p>
</div>
<div class="paragraph">
<p>{% code title="Cases where only the vertex id will be printed" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">ListAccum&lt;VERTEX&gt; @@vList;  // not a vertex set variable
VERTEX v;                   // not a vertex set variable
...
PRINT @@vList, v;           // output will contain only vertex ids</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}
{% endhint %}</p>
</div>
<div class="paragraph">
<p><strong>Vertex (when not part of a vertex set variable)</strong></p>
</div>
<div class="paragraph">
<p>The output is just the vertex id as a string:</p>
</div>
<div class="paragraph">
<p>{% code title="Output Format for a Value which is a Vertex, not part of a Vertex Set Variable" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">"&lt;vertex_id&gt;"</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p><strong>Vertex (as part of a vertex set variable)</strong></p>
</div>
<div class="paragraph">
<p>{% code title="Output Format for a Vertex as part of a Vertex Set Variable" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">{
  "v_id":   "&lt;vertex_id&gt;",
  "v_type": "&lt;vertex_type&gt;",
  "attributes": {
    &lt;list of key:value pairs,
     one for each attribute
     or vertex-attached accumulator&gt;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p><strong>Edge</strong></p>
</div>
<div class="paragraph">
<p>{% code title="Output Format for a Value which is an Edge" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">{
  "e_type":    "&lt;edge_type&gt;",
  "directed":  &lt;boolean_value&gt;,
  "from_id":   "&lt;source_vertex_id&gt;",
  "from_type": "&lt;source_vertex_type&gt;",
  "to_id":     "&lt;target_vertex_id&gt;",
  "to_type":   "&lt;target_vertex_type&gt;",
  "attributes": {
    &lt;list of key:value pairs,
     one for each attribute&gt;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p><strong>List, Set or Bag</strong></p>
</div>
<div class="paragraph">
<p>{% code title="Output format for a Value which is a List, Set, or Bag" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">[
  &lt;value1&gt;,
  &lt;value2&gt;,
  ...,
  &lt;valueN&gt;
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p><strong>Map</strong></p>
</div>
<div class="paragraph">
<p>{% code title="Output Format for a Value which is a Map" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">{
  &lt;key1&gt;: &lt;value1&gt;,
  &lt;key2&gt;: &lt;value2&gt;,
  ...,
  &lt;keyN&gt;: &lt;valueN&gt;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p><strong>Tuple</strong></p>
</div>
<div class="paragraph">
<p>{% code title="Output Format for a Value which is a Tuple" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">{
  &lt;fieldName1&gt;: &lt;value1&gt;,
  &lt;fieldName2&gt;: &lt;value2&gt;,
  ...,
  &lt;fieldNameN&gt;: &lt;valueN&gt;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p><strong>Vertex Set Variable</strong></p>
</div>
<div class="paragraph">
<p>{% code title="Output Format for a Value which is a Vertex Set Variable" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">[
  &lt;vertex1&gt;,
  &lt;vertex2&gt;,
  ...,
  &lt;vertexN&gt;
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
<div class="sect2">
<h3 id="_vertex_expression_set"><a class="anchor" href="#_vertex_expression_set"></a>Vertex Expression Set</h3>
<div class="paragraph">
<p>A vertex expression set is a list of expressions which is applied to each vertex in a vertex set variable. The expression list is used to compute an alternative set of values to display in the "attributes" field of each vertex.</p>
</div>
<div class="paragraph">
<p>The easiest way to understand this is to consider examples containing only one term and then consider combinations. Consider the following example query. C is a vertex set variable containing the set of all company vertices. Furthermore, each vertex has a vertex-attached accumulator @count.</p>
</div>
<div class="paragraph">
<p>{% code title="Example Query for Vertex Expression Set" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang"># CREATE VERTEX company(PRIMARY_ID clientId STRING, id STRING, country STRING)

CREATE QUERY vExprSet () FOR GRAPH workNet {
  SumAccum&lt;INT&gt; @count;
  C = {company.*};

  # include some print statements here
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>If we print the full vertex set, the "attributes" field of each vertex will contain 3 fields: "id", "country", and "@count".  Now consider some simple vertex expression sets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PRINT C[C.country]</code> prints the vertex set variable C, except that the "attributes" field will contain only "country", instead of 3 fields.</p>
</li>
<li>
<p><code>PRINT C[C.@count]</code> prints the vertex set variable C, except that the "attributes" field will contain only "@count", instead of 3 fields.</p>
</li>
<li>
<p><code>PRINT C[C.@count AS company_count]</code> prints the same as above, except that the "@count" accumulator is is aliased as "company_count".</p>
</li>
<li>
<p><code>PRINT C[C.id, C.@count]</code> prints the vertex set variable C, except that the "attributes" field will contain only "id" and "@count".</p>
</li>
<li>
<p><code>PRINT C[C.id+"_ex", C.@count+1]</code> prints the vertex set variable C, except that the "attributes" field contains the following:</p>
<div class="ulist">
<ul>
<li>
<p>One field consists of each vertex&#8217;s id value, with the string "_ex" appended to it.</p>
</li>
<li>
<p>Another field consists of the @count value incremented by 1.  Note: the value of @count itself has not changed, only the displayed value is incremented.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The last example illustrates the general format for a vertex expression set:</p>
</div>
<div class="paragraph">
<p>{% code title="Syntax for Vertex Expression Set" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">vExprSet  := expr "[" vSetProj {, vSetProj} "]"
vSetProj  := expr [ AS name]</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>The vertex expression set begins with the name of a vertex set variable.  It is followed by a list of attribute expressions, enclosed in square brackets. Each attribute expression follows the same rules described earlier in the Print Expressions section.  That is, each attribute expression may refer to one or more attributes or vertex-attached accumulators of the current vertices, as well as literals, local or global variables, and global accumulators. The allowed operators (for numeric, string, or set operations) are the same ones mentioned above.</p>
</div>
<div class="paragraph">
<p>The <em>key</em> for the vertex expression set is the vertex set variable name.</p>
</div>
<div class="paragraph">
<p>The <em>value</em> for the vertex expression set is a modified vertex set variable, where the regular "attributes" value for each vertex is replaced with a set of key:value pairs corresponding to the set of attribute expressions given in the print expression.</p>
</div>
<div class="paragraph">
<p>An example which shows all of the cases described above, in combination, is shown below.</p>
</div>
<div class="paragraph">
<p>{% code title="Print Basic Example" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">CREATE QUERY printExampleV2(VERTEX&lt;person&gt; v) FOR GRAPH socialNet {

  SetAccum&lt;VERTEX&gt; @@setOfVertices;
  SetAccum&lt;EDGE&gt; @postedSet;
  MapAccum&lt;VERTEX,ListAccum&lt;VERTEX&gt;&gt; @@testMap;
  FLOAT paperWidth = 8.5;
  INT paperHeight = 11;
  STRING Alpha = "ABC";

  Seed = person.*;
  A = SELECT s
      FROM Seed:s
      WHERE s.gender == "Female"
      ACCUM @@setOfVertices += s;

  B = SELECT t
      FROM Seed:s - (posted:e) -&gt; post:t
      ACCUM s.@postedSet += e,
        @@testMap += (s -&gt; t);

# Numeric, String, and Boolean expressions, with renamed keys:
  PRINT paperHeight*paperWidth AS PaperSize, Alpha+"XYZ" AS Letters,
    A.size() &gt; 10 AS AsizeMoreThan10;
# Note how an expression is named if "AS" is not used:
  PRINT A.size() &gt; 10;

# Vertex variables.  Only the vertex id is included (no attributes):
  PRINT v, @@setOfVertices;

# Map of Person -&gt; Posts posted by that person:
  PRINT @@testMap;

# Vertex Set Variable. Each vertex has a vertex-attached accumulator, which
# happens to be a set of edges (SetAccum&lt;EDGE&gt;), so edge format is shown also:
  PRINT A AS VSetVarWomen;

# Vertex Set Expression. The same set of vertices as above, but with only
# one attribute plus one computed attribute:
  PRINT A[A.gender, A.@postedSet.size()] AS VSetExpr;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>{% hint style="info" %}
Note how the results of the six PRINT statements are grouped in the JSON "results" field below:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Each of the six PRINT statements is represented as one JSON object with the "results" array.</p>
</li>
<li>
<p>When a PRINT statement has more than one expression (like the first one), the expressions may appear in the output in a different order than on the PRINT statement.</p>
</li>
<li>
<p>The 2nd PRINT statement shows a key that is generated from the expression itself.</p>
</li>
<li>
<p>The 3rd and 4th PRINT statements show a set of vertices (different than a vertex set variable) and a map, respectively.</p>
</li>
<li>
<p>The 5th PRINT statement shows the vertex set variable A, including its vertex-attached accumulators (PRINT A).</p>
</li>
<li>
<p>The 6th PRINT statement shows a vertex set expression for A, customized to include only one static attribute plus a newly computed attribute.
{% endhint %}</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>{% code title="Results from Query printExampleV2 (WITH COMMENTS ADDED)" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">GSQL &gt; RUN QUERY printExampleV2("person1")
{
  "error": false,
  "message": "",
  "version": {
    "edition": "developer",
    "schema": 0,
    "api": "v2"
  },
  "results": [
    {
      "AsizeMoreThan10": false,
      "Letters": "ABCXYZ",
      "PaperSize": 93.5
    },
    {"A.size()&gt;10": false},
    {
      "v": "person1",
      "@@setOfVertices": [ "person4", "person5", "person2" ]
    },
    {"@@testMap": {
      "person4": ["3"],
      "person3": ["2"],
      "person2": ["1"],
      "person1": ["0"],
      "person8": [ "7", "8" ],
      "person7": [ "9", "6" ],
      "person6": [ "10", "5" ],
      "person5": [ "4", "11" ]
    }},
    {"VSetVarWomen": [
      {
        "v_id": "person4",
        "attributes": {
          "gender": "Female",
          "id": "person4",
          "@postedSet": [{
            "from_type": "person",
            "to_type": "post",
            "directed": true,
            "from_id": "person4",
            "to_id": "3",
            "attributes": {},
            "e_type": "posted"
          }]
        },
        "v_type": "person"
      },
      {
        "v_id": "person5",
        "attributes": {
          "gender": "Female",
          "id": "person5",
          "@postedSet": [
            {
              "from_type": "person",
              "to_type": "post",
              "directed": true,
              "from_id": "person5",
              "to_id": "11",
              "attributes": {},
              "e_type": "posted"
            },
            {
              "from_type": "person",
              "to_type": "post",
              "directed": true,
              "from_id": "person5",
              "to_id": "4",
              "attributes": {},
              "e_type": "posted"
            }
          ]
        },
        "v_type": "person"
      },
      {
        "v_id": "person2",
        "attributes": {
          "gender": "Female",
          "id": "person2",
          "@postedSet": [{
            "from_type": "person",
            "to_type": "post",
            "directed": true,
            "from_id": "person2",
            "to_id": "1",
            "attributes": {},
            "e_type": "posted"
          }]
        },
        "v_type": "person"
      }
    ]},
    {"VSetExpr": [
      {
        "v_id": "person4",
        "attributes": {
          "A.@postedSet.size()": 1,
          "A.gender": "Female"
        },
        "v_type": "person"
      },
      {
        "v_id": "person5",
        "attributes": {
          "A.@postedSet.size()": 2,
          "A.gender": "Female"
        },
        "v_type": "person"
      },
      {
        "v_id": "person2",
        "attributes": {
          "A.@postedSet.size()": 1,
          "A.gender": "Female"
        },
        "v_type": "person"
      }
    ]}
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
<div class="sect2">
<h3 id="_printing_csv_to_a_file_object"><a class="anchor" href="#_printing_csv_to_a_file_object"></a>Printing CSV to a FILE Object</h3>
<div class="paragraph">
<p>Instead of printing output in JSON format, output can be written to a FILE object in comma-separated values (CSV) format. To select this option, at the end of the PRINT statement, include the keyword <code>TO_CSV</code> followed by the <code>FILE</code> object name:</p>
</div>
<div class="paragraph">
<p>{% tabs %}
{% tab title="PRINT to CSV FILE syntax example" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">PRINT @@setOfVertices TO_CSV file1;</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endtab %}
{% endtabs %}</p>
</div>
<div class="paragraph">
<p>Each execution of the <code>PRINT</code> statement appends one line to the <code>FILE</code>. If the <code>PRINT</code> statement includes multiple expressions, then each printed value is separated from its neighbor by a comma. If an expression evaluates to a set or list, then the collection&#8217;s values are delimited by single spaces. Due to the simpler format of CSV vs. JSON, the <code>TO_CSV</code> feature only supports data with a simple one- or two-dimension structure.</p>
</div>
<div class="paragraph">
<p>{% hint style="danger" %}
Limitations of PRINT &gt; File</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Printing a full Vertex set variable is not supported.</p>
</li>
<li>
<p>If a vertex is printed, only its ID value is printed.</p>
</li>
<li>
<p>If printing a vertex set&#8217;s vertex-attached accumulator or a vertex set&#8217;s variable, the result is a list of values, one for each vertex, separated by newlines.</p>
</li>
<li>
<p>The syntax for printing a vertex set expression is currently different when printing to a file than when printing to standard output. Compare:</p>
<div class="ulist">
<ul>
<li>
<p>PRINT A[A.gender]; # with brackets</p>
</li>
<li>
<p>PRINT A.gender TO_CSV file1; # without brackets
{% endhint %}</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>{% hint style="warning" %}
Writing to FILE objects is optimized for parallel processing. Consequently, the order in which data is written to the FILE is not guaranteed.  Therefore, it is strongly recommended that the user design their queries such that one of these conditions is satisfied:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The query prints only one set of data, and the order of the set is not important.</p>
</li>
<li>
<p>Each line of data to print to a file includes a label which can be used to identify the data.
{% endhint %}</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>{% code title="PRINT WHERE and PRINT TO_CSV FILE Object Example" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">CREATE QUERY printExampleFile() FOR GRAPH socialNet {
  SetAccum&lt;VERTEX&gt; @@testSet, @@testSet2;
  ListAccum&lt;STRING&gt; @@strList;
  int x = 3;
  FILE file1 ("/home/tigergraph/printExampleFile.txt");

  Seed = person.*;
  A = SELECT s
      FROM Seed:s
      WHERE s.gender == "Female"
      ACCUM @@testSet += s, @@strList += s.gender;
  A = SELECT s
      FROM Seed:s
      WHERE s.gender == "Male"
      ACCUM @@testSet2 += s;

  PRINT @@testSet, @@testSet2 TO_CSV file1;  # 1st line: 2 4 5, 1 3 6 7 8 (order not guaranteed)
  PRINT x WHERE x &lt; 0 TO_CSV file1;   # 2nd line: &lt;skipped because no content&gt;
  PRINT x WHERE x &gt; 0 TO_CSV file1;   # 3rd line: 3
  PRINT @@strList TO_CSV file1;       # 4th line: Female Female Female
  PRINT A.gender TO_CSV file1;     # 5th line: Male\n Male\n Male\n Male\n Male
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_file_println_statement"><a class="anchor" href="#_file_println_statement"></a><code>FILE println</code> statement</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>FILE println</code> statement writes data to a <code>FILE</code> object. Unlike the <code>PRINT</code> statement, which is a query-body level statement, the <code>FILE println</code> statement can be either a query-body level statement or a DML-sub-statement.</p>
</div>
<div class="paragraph">
<p>{% code title="EBNF for FILE println statement" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">printlnStmt := fileVar".println" "(" expr ("," expr)* ")"</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p><code>println</code> is a method of a FILE object variable. The <code>println</code> statement can be used either at the query-body level or a DML-sub-statement, e.g., within the ACCUM clause of a SELECT block. Each time <code>println</code> is called, it adds one new line of values to the <code>FILE</code> object, and then to the corresponding file.</p>
</div>
<div class="paragraph">
<p>The <code>println</code> function can print any expression that can be printed by a <code>PRINT</code> statement with the exception of vertex set variables. Vertex expression sets are also not applicable to the <code>println</code> function.</p>
</div>
<div class="paragraph">
<p>If the <code>println</code> statement has a list of expressions to print, it will produce a comma-separated list of values. If an expression refers to a list or set, then the output will be a list of values separated by spaces.</p>
</div>
<div class="paragraph">
<p>{% hint style="danger" %}
The data from query-body level <code>FILE</code> print statements (either <code>TO_CSV</code> or <code>println</code>) will appear in their original order. However, due to the parallel processing of statements in an ACCUM block, the order in which <code>println</code> statements at the DML-sub-statement level are processed cannot be guaranteed.
{% endhint %}</p>
</div>
<h4 id="_example" class="discrete">Example</h4>
<div class="paragraph">
<p>{% code title="File object query example" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">CREATE QUERY fileEx (STRING fileLocation) FOR GRAPH workNet {

    FILE f1 (fileLocation);
    P = {person.*};

    PRINT "header" TO_CSV f1;

    USWorkers = SELECT v FROM P:v
              WHERE v.locationId == "us"
              ACCUM f1.println(v.id, v.interestList);

    PRINT "footer" TO_CSV f1;
}
INSTALL QUERY fileEx
RUN QUERY fileEx("/home/tigergraph/files")</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>All of the <code>PRINT</code> statements in this example use the <code>TO_CSV</code> option, so there is no JSON output to the console.</p>
</div>
<div class="paragraph">
<p>{% code title="Results from Query fileEx" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">GSQL &gt; RUN QUERY fileEx("/home/tigergraph/fileEx.txt")
{
  "error": false,
  "message": "",
  "version": {
    "edition": "developer",
    "schema": 0,
    "api": "v2"
  },
  "results": []
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>All the output in this case goes to the <code>FILE</code> object. In the query definition, the line <code>"header"</code> is printed first, followed by the <code>println</code> statements in the <code>ACCUM</code> clause, and <code>"footer"</code> is printed last. The output in the file follows this order because the order of query-body level statements is maintained in the output.</p>
</div>
<div class="paragraph">
<p>{% code title="File contents produced by fileEx example" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">[tigergraph@localhost]$ more /home/tigergraph/fileEx.txt
header
person7,art sport
person10,football sport
person4,football
person9,financial teaching
person1,management financial
footer</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>However, within the <code>ACCUM</code> clause itself, the order of the <code>println</code> statements is not guranteed.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_passing_a_file_object_as_a_parameter"><a class="anchor" href="#_passing_a_file_object_as_a_parameter"></a>Passing a FILE Object as a Parameter</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A FILE Object can be passed from one query to a subquery.  The subquery can then also write to the FILE object.</p>
</div>
<div class="paragraph">
<p>{% code title="Example: query passing a FILE object to another query" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">CREATE QUERY fileParamSub(FILE f, STRING label, INT num) FOR GRAPH socialNet {
    f.println(label, "header");
    FOREACH i IN RANGE [1,2] DO
        f.println(label, num+i);
    END;
    f.println(label, "footer");
}

CREATE QUERY fileParamMain(STRING mainlabel) FOR GRAPH socialNet {
    FILE f ("/home/tigergraph/fileParam.txt");
    f.println(mainlabel, "header");
    FOREACH i IN RANGE [1,2] DO
        f.println(mainlabel, i);
        fileParamSub(f, " sub", 10*i);
    END;
    f.println(mainlabel, "footer");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">GSQL &gt; RUN QUERY fileParamMain("main")
GSQL &gt; EXIT

$ cat /home/tigergraph/fileParam.txt
main,header
main,1
 sub,header
 sub,11
 sub,12
 sub,footer
main,2
 sub,header
 sub,21
 sub,22
 sub,footer
main,footer</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_log_statement"><a class="anchor" href="#_log_statement"></a><code>LOG</code> Statement</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The LOG statement is another means to output data.  It works as a function that outputs information to a log file.</p>
</div>
<div class="paragraph">
<p>{% code title="EBNF for LOG statement" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">logStmt := LOG "(" condition "," argList ")"</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>The first argument of the LOG statement is a boolean condition that enables or disables logging.  This allows logging to be easily turned on/off, for uses such as debugging.  After the condition, LOG takes one or more expressions (separated by commas).  These expressions are evaluated and output to the log file.</p>
</div>
<div class="paragraph">
<p>Unlike the PRINT statement, which can only be used as a query-body statement, the LOG statement can be used as both a query-body statement and a DML-sub-statement.</p>
</div>
<div class="paragraph">
<p>The values will be recorded in the GPE log. To find the log file after the query has completed, open a Linux shell and use the command  "gadmin log gpe".  It may show you more than one log file name; use the one ending in "INFO".  Search this file for "UDF_".</p>
</div>
<div class="paragraph">
<p>{% code title="Examples" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">BOOLEAN debug = TRUE;
INT x = 10;

LOG(debug, 20);
LOG(debug, 10, x);</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_return_statement"><a class="anchor" href="#_return_statement"></a><code>RETURN</code> Statement</h2>
<div class="sectionbody">
<div class="paragraph">
<p>{% code title="EBNF for RETURN statement" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">returnStmt := RETURN expr</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>The RETURN statement specifies data that a <a href="operators-and-expressions.md#subquery"><em>subquery</em></a> __passes back to an outer query that called the subquery. The return type for a <code>RETURN</code> statement can be any base type or accumulator type, but <strong>must be the same type</strong> as indicated by the <code>RETURNS</code> clause of the subquery.</p>
</div>
<div class="paragraph">
<p>For subqueries to return a <a href="accumulators.md#heapaccum"><code>HeapAccum</code></a> or <a href="accumulators.md#groupbyaccum"><code>GroupByAccum</code></a>, the accumulators must be <a href="../ddl-and-loading/defining-a-graph-schema.md#catalog-level-typedef">defined at the catalog level</a>. See the example below:</p>
</div>
<div class="paragraph">
<p>{% code title="Subquery Returning HeapAccum Example" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-coffeescript hljs" data-lang="coffeescript">TYPEDEF tuple&lt;name string, friends int&gt; myTuple
TYPEDEF HeapAccum&lt;myTuple&gt;(3, friends DESC) myHeap

CREATE QUERY subquery1() FOR GRAPH socialNet RETURNS (myHeap){
	myHeap @@heap;  	// Define the heap accumulator at the global level
	SumAccum&lt;int&gt; @friends;
	Start = {person.*};
	Start = select s from Start:s-(friend:e)-:t
	        accum s.@friends += 1
	        post-accum @@heap += myTuple(s.id,s.@friends);
	RETURN @@heap;
}

CREATE QUERY query1() FOR GRAPH socialNet {
	PRINT subquery1();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
