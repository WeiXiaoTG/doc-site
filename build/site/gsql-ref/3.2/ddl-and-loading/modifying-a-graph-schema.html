<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Modifying a Graph Schema :: TigerGraph Documentation</title>
    <meta name="generator" content="Antora 3.0.0-alpha.8">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">TigerGraph Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="gsql-ref" data-version="3.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../intro/intro.html">GSQL Language Reference</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../intro/intro.html">Overview</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tutorials/gsql-101/README.html">GSQL 101</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/gsql-101/get-set.html">Get Set</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/gsql-101/define-a-schema.html">Define a Schema</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/gsql-101/load-data-gsql-101.html">Load Data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/gsql-101/built-in-select-queries.html">Run Built-in Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/gsql-101/parameterized-gsql-query.html">Develop Parameterized Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/gsql-101/review.html">Review</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tutorials/pattern-matching/README.html">Pattern Matching Tutorial</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/pattern-matching/get-set.html">Get Set</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/pattern-matching/load-data.html">Load Data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/pattern-matching/one-hop-patterns.html">One-hop patterns</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/pattern-matching/repeating-a-pattern.html">Repeating a 1-Hop Pattern</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/pattern-matching/multiple-hop-and-accumulation.html">Multiple Hop Patterns and Accumulation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorials/pattern-matching/example.html">Example - A Recommender</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tutorials/pattern-matching/adv/README.html">Advanced Features</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/pattern-matching/adv/per-clause.html">Per Clause (Beta)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/pattern-matching/adv/conjunctive-pattern-matching.html">Conjunctive Pattern Matching (Beta)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/pattern-matching/adv/dml.html">Data Modification</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../tutorials/pattern-matching/summary.html">Summary</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Database definition &amp; Loading</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="system-and-language-basics.html">System &amp; Language Basics</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="defining-a-graph-schema.html">Defining a Graph Schema</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="modifying-a-graph-schema.html">Modifying a Graph Schema</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="creating-a-loading-job.html">Creating a Loading Job</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="running-a-loading-job.html">Running a Loading Job</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Appendix</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="appendix/keywords-and-reserved-words.html">DDL Keywords &amp; Reserved Words</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#appendix/gsql-start-to-end-process.adoc">appendix/gsql-start-to-end-process.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Querying</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../querying/introduction-query.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../querying/query-operations.html">CREATE/INTERPRET/INSTALL/RUN QUERY</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../querying/distributed-query-mode.html">Distributed Query Mode</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../querying/data-types.html">Data Types</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../querying/accumulators.html">Accumulators</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../querying/operators-and-expressions.html">Operators and Expressions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../querying/func/README.html">Functions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/func/aggregation-functions.html">Aggregation Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/func/datetime-functions.html">Datetime Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/func/edge-methods.html">Edge Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/func/json-object-methods.html">JSON Object Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/func/jsonarray-methods.html">JSON Array Methods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/func/mathematical-functions.html">Mathematical Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/func/miscellaneous-functions.html">Miscellaneous Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/func/query-user-defined-functions.html">Query User-Defined Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/func/string-functions.html">String Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/func/type-conversion-functions.html">Type Conversion Functions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/func/vertex-methods.html">Vertex Functions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../querying/declaration-and-assignment-statements.html">Declaration and Assignment Statements</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../querying/select-statement/README.html">SELECT Statement</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/select-statement/sql-like-select-statement.html">SQL-like SELECT statement</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../querying/control-flow-statements.html">Control Flow Statements</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../querying/data-modification-statements.html">Data Modification Statements</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../querying/output-statements-and-file-objects.html">Output Statements and FILE Objects</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../querying/exception-statements.html">Exception Statements</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../querying/comments.html">Comments</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Appendix</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/appendix-query/common-errors-and-problems.html">Common Errors and Problems</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/appendix-query/complete-formal-syntax.html">Formal Grammar for Query Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/appendix-query/query-language-reserved-words.html">Query Language Reserved Words</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/appendix-query/example-graphs.html">Example Graphs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/appendix-query/interpreted-gsql-limitations.html">Interpreted GSQL Limitations</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">GSQL Language Reference</span>
    <span class="version">3.2</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../tigergraph-gui/3.2/graphstudio/overview.html">GraphStudio and Admin Portal</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tigergraph-gui/3.2/graphstudio/overview.html">3.2</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../intro/intro.html">GSQL Language Reference</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../intro/intro.html">3.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../tigergraph-cloud/latest/start/README.html">TigerGraph Cloud</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tigergraph-cloud/latest/start/README.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../tigergraph-data-science/3.2/intro/overview.html">TigerGraph Data Science Library</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tigergraph-data-science/3.2/intro/overview.html">3.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../tigergraph-server/3.2/intro/introduction.html">TigerGraph Server</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../tigergraph-server/3.2/intro/introduction.html">3.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../intro/intro.html">GSQL Language Reference</a></li>
    <li>Database definition &amp; Loading</li>
    <li><a href="modifying-a-graph-schema.html">Modifying a Graph Schema</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/lennessyy/gsql/edit/main/modules/ddl-and-loading/pages/modifying-a-graph-schema.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Modifying a Graph Schema</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>After a graph schema has been created , it can be modified. Data already stored in the graph and which is not logically part of the change will be retained. For example, if you had 100 Book vertices and then added an attribute to the Book schema, you would still have 100 Books, with default values for the new attribute. If you dropped a Book attribute, you still would have all your books, but one attribute would be gone.</p>
</div>
<div class="paragraph">
<p>To safely update the graph schema, the user should follow this procedure:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a SCHEMA_CHANGE JOB, which defines a sequence of ADD, ALTER and/or DROP statements.</p>
</li>
<li>
<p>Run the SCHEMA_CHANGE JOB (i.e. <strong><code>RUN SCHEMA_CHANGE JOB job_name</code></strong>), which will do the following:</p>
</li>
<li>
<p>Attempt the schema change.</p>
</li>
<li>
<p>If the change is successful, invalidate any loading job or query definitions which are incompatible with the new schema.</p>
</li>
<li>
<p>if the change is unsuccessful, report the failure and return to the state before the attempt.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>{% hint style="danger" %}
A schema change will invalidate any loading jobs or query jobs which relate to an altered part of the schema. Specifically:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A loading job becomes invalid if it refers to a vertex or and an edge which has been <strong>dropped</strong> (deleted) or <strong>altered</strong> .</p>
</li>
<li>
<p>A query becomes invalid if it refers to a vertex, and edge, or an attribute which has been <strong>dropped</strong> .</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Invalid loading jobs are dropped, and invalid queries are uninstalled. After the schema update, the user will need to create and install new load and query jobs based on the new schema.
{% endhint %}</p>
</div>
<div class="paragraph">
<p>Jobs and queries for unaltered parts of the schema will still be available and do not need to be reinstalled.  However, even though these jobs are valid (e.g., they <strong>can</strong> be run), the user may wish to examine whether they still perform the preferred operations (e.g., do you <strong>want</strong> to run them?)</p>
</div>
<div class="paragraph">
<p>{% hint style="danger" %}
 Load or query operations which begin before the schema change will be completed based on the pre-change schema. Load or query operations which begin after the schema change, and which have not been invalidated, will be completed based on the post-change schema.
{% endhint %}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_global_vs_local_schema_changes"><a class="anchor" href="#_global_vs_local_schema_changes"></a><strong>Global vs. Local Schema Changes</strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Only a superuser or globaldesigner can add, alter, or drop global vertex types or global edge types, which are those that are created using CREATE VERTEX or CREATE &#8230;&#8203; EDGE.  This rule applies even if the vertex or edge type is used in only one graph. To make these changes, the user uses a GLOBAL SCHEMA_CHANGE JOB.</p>
</div>
<div class="paragraph">
<p>An admin or designer user can add, alter, or drop local vertex types or local edge types which are created in the context of that graph. Local vertex and edge types are created using an ADD statement inside a SCHEMA_CHANGE JOB. To alter or drop any of these local types, the admin user uses a regular SCHEMA_CHANGE JOB.</p>
</div>
<div class="paragraph">
<p>{% hint style="info" %}
Local graphs can define vertex and edge types independently of the vertex and edge types in other graph. That is, the same name can be used in different graphs for (different) vertex or edge types.</p>
</div>
<div class="paragraph">
<p>It is even permitted for a local graph and the global graph to use the same name for their own vertex or edge types, as long as the global vertex/edge type is not used within the local graph.
{% endhint %}</p>
</div>
<div class="paragraph">
<p>The two types of schema change jobs are described below.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_schema_change_job_local"><a class="anchor" href="#_create_schema_change_job_local"></a><strong><code>CREATE SCHEMA_CHANGE JOB</code> (local)</strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CREATE SCHEMA_CHANGE JOB block defines a sequence of ADD, ALTER, and DROP statements for changing a particular graph. It does not perform the schema change.</p>
</div>
<div class="paragraph">
<p>{% code title="CREATE SCHEMA_CHANGE JOB syntax" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE SCHEMA_CHANGE JOB job_name FOR GRAPH graph_name {
    [sequence of DROP, ALTER, and ADD statements, each line ending with a semicolon]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>One use of CREATE SCHEMA_CHANGE JOB is to define an additional vertex type and edge type to be the structure for a secondary index. For example, if you wanted to index the postalCode attribute of the User vertex, you could create a postalCode_idx (PRIMARY_ID id string, code string) vertex type and hasPostalCode (FROM User, TO postalCode_idx) edge type. Then create an index structure having one edge from each User to a postalCode_idx vertex.</p>
</div>
<div class="paragraph">
<p>{% hint style="danger" %}
By its nature, a SCHEMA_CHANGE JOB may contain multiple statements. If the job block is used in the interactive GSQL shell, then the BEGIN and END commands should be used to permit the SCHEMA_CHANGE JOB to be entered on several lines. if the job is stored in a command file to be read in batch mode, then BEGIN and END are not needed.</p>
</div>
<div class="paragraph">
<p>Remember to include a semicolon at the end of each DROP, ALTER, or ADD statement within the JOB block.</p>
</div>
<div class="paragraph">
<p>If a SCHEMA_CHANGE JOB defines a new edge type which connects to a new vertex type, the ADD VERTEX statement should precede the related ADD EDGE statement. However, the ADD EDGE and ADD VERTEX statements can be in the same SCHEMA_CHANGE JOB.
{% endhint %}</p>
</div>
<div class="sect2">
<h3 id="_add_vertex_edge_local"><a class="anchor" href="#_add_vertex_edge_local"></a><strong><code>ADD VERTEX | EDGE</code> (local)</strong></h3>
<div class="paragraph">
<p>The ADD statement defines a new type of vertex or edge and automatically adds it to a graph schema. The syntax for the ADD VERTEX | EDGE statement is analogous to that of the CREATE VERTEX | EDGE | GRAPH statements.  It may only be used within a SCHEMA_CHANGE JOB.</p>
</div>
<div class="paragraph">
<p>{% code title="ADD VERTEX / UNDIRECTED EDGE / DIRECTED EDGE" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ADD VERTEX v_type_name (PRIMARY_ID id type [',' attribute_list]) [WITH STATS '=' "none"|"outdegree_by_edgetype"];
ADD UNDIRECTED EDGE e_type_name (FROM v_type_name',' TO v_type_name [',' edge_attribute_list])
ADD DIRECTED EDGE e_type_name (FROM v_type_name',' TO v_type_name [',' edge_attribute_list])
    [WITH REVERSE_EDGE '=' "rev_name"];</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
<div class="sect2">
<h3 id="_alter_vertex_edge"><a class="anchor" href="#_alter_vertex_edge"></a><strong><code>ALTER VERTEX | EDGE</code></strong></h3>
<div class="paragraph">
<p>The <code>ALTER</code> statement adds attributes to or removes attributes from an existing vertex type or edge type. It may only be used within a <code>SCHEMA_CHANGE JOB</code>.  The basic format is as follows:</p>
</div>
<div class="paragraph">
<p>{% code title="ALTER VERTEX / EDGE" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER VERTEX|EDGE object_type_name ADD|DROP (attribute_list);</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="sect3">
<h4 id="_alter_add"><a class="anchor" href="#_alter_add"></a><strong><code>ALTER ... ADD</code></strong></h4>
<div class="paragraph">
<p><code>ALTER ... ADD</code> can add attributes to vertex or edge types.</p>
</div>
<div class="paragraph">
<p>Added attributes are appended to the end of the schema. The new attributes may include DEFAULT fields. To add attributes to a vertex type, the syntax is as follows:</p>
</div>
<div class="paragraph">
<p>{% tabs %}
{% tab title="ALTER VERTEX &#8230;&#8203; ADD" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER VERTEX vertex_type_name ADD
    ATTRIBUTE (attribute_name type [DEFAULT default_value]
    [',' attribute_name type [DEFAULT default_value]]* );</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endtab %}
{% endtabs %}</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER VERTEX Company ADD ATTRIBUTE (industry
STRING, marketcap DOUBLE)</code></pre>
</div>
</div>
<div class="paragraph">
<p>To add to an edge&#8217;s endpoint vertex types or attributes, the syntax is as follows:</p>
</div>
<div class="paragraph">
<p>{% tabs %}
{% tab title="ALTER EDGE&#8230;&#8203; ADD" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER EDGE edge_type_name ADD
    [ATTRIBUTE (attribute_name type [DEFAULT default_value]
    [',' attribute_name type [DEFAULT default_value]]* )];</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endtab %}
{% endtabs %}</p>
</div>
</div>
<div class="sect3">
<h4 id="_alter_edge_add_pair"><a class="anchor" href="#_alter_edge_add_pair"></a><code>ALTER EDGE .. ADD PAIR</code></h4>
<div class="paragraph">
<p><code>ALTER EDGE ... ADD PAIR</code> adds one or more edge pairs, which refer to the <code>FROM</code> and <code>TO</code> vertex types of  an edge type. To add an edge pair, put the vertex type names in parentheses after keywords <code>FROM</code> and <code>TO</code>.</p>
</div>
<div class="paragraph">
<p><strong>Syntax</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER EDGE edgeType ADD PAIR
"(" FROM vertexType, TO vertexType (| FROM vertexType, TO vertexType)* ")”</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="paragraph">
<p>In the example below, the first statement in the schema change job will add an edge pair (<code>FROM person, TO company</code>) to the edge type <code>visit</code>.  The second example adds two edge pairs to the edge type <code>has_pet</code>; the edge type can now connect both <code>person</code> and <code>dog</code> vertices, as well as <code>person</code> and <code>bird</code> vertices.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE SCHEMA_CHANGE JOB job2 FOR GRAPH example_graph {
  ALTER EDGE visit ADD PAIR (FROM person, TO company);
  ALTER EDGE has_pet ADD PAIR (FROM person, TO dog | FROM person, TO bird);
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_alter_drop"><a class="anchor" href="#_alter_drop"></a><strong><code>ALTER ... DROP</code></strong></h4>
<div class="paragraph">
<p>The syntax for ALTER &#8230;&#8203; DROP is analogous to that of ALTER &#8230;&#8203; ADD.</p>
</div>
<div class="paragraph">
<p>{% code title="ALTER &#8230;&#8203; DROP" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER VERTEX|EDGE object_type_name DROP ATTRIBUTE (
      attribute_name [',' attribute_name]* );</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
<div class="sect3">
<h4 id="_alter_vertex_with_beta"><a class="anchor" href="#_alter_vertex_with_beta"></a><code>ALTER VERTEX ... WITH</code>  (Beta)</h4>
<div class="paragraph">
<p><code>The</code> statement <code>ALTER VERTEX WITH TAGGABLE</code> is used to mark a vertex type as taggable or untaggable. Vertex types are untaggable by default. When a vertex type is marked as taggable, the vertex type can be used to <a href="defining-a-graph-schema.md#create-graph-as-beta">create a tag-based graph</a>. Additionally, users with the tag-access privilege can tag vertices whose vertex type is marked as taggable.</p>
</div>
<div class="paragraph">
<p>{% code title="ALTER VERTEX WITH TAGGABLE" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER VERTEX v_type_name WITH TAGGABLE = ("true" | "false")</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_drop_vertex_edge_local"><a class="anchor" href="#_drop_vertex_edge_local"></a><code>DROP VERTEX | EDGE</code> (local)</h3>
<div class="paragraph">
<p>The DROP statement removes the specified vertex type or edge type from the database dictionary. The DROP statement should only be used when graph operations are not in progress.</p>
</div>
<div class="paragraph">
<p>{% code title="drop vertex / edge" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">DROP VERTEX v_type_name [',' v_type_name]*
DROP EDGE e_type_name [',' e_type_name]*</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
<div class="sect2">
<h3 id="_drop_tuple"><a class="anchor" href="#_drop_tuple"></a><strong><code>DROP TUPLE</code></strong></h3>
<div class="paragraph">
<p>For tuples that are defined within a graph schema, you can drop them by using the following command.</p>
</div>
<div class="paragraph">
<p>{% code title="drop tuple" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">DROP TUPLE tuple_name [',' tuple_name]*</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
<div class="sect2">
<h3 id="_add_tag"><a class="anchor" href="#_add_tag"></a><code>ADD TAG</code></h3>
<div class="paragraph">
<p><code>ADD TAG</code> defines a tag for the graph. Tags can be used to create tag-based graphs, allowing for finer grain access control.</p>
</div>
<div class="paragraph">
<p>{% code title="Syntax for ADD TAG" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">ADD TAG &lt;tag_name&gt; [DESCRIPTION &lt;tag_description&gt;]</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
<div class="sect2">
<h3 id="_drop_tag"><a class="anchor" href="#_drop_tag"></a><code>DROP TAG</code></h3>
<div class="paragraph">
<p><code>DROP TAG</code> drops a tag or multiple tags from the schema, and deletes the tag from each vertex to which it is attached. <code>DROP TAG</code> cannot be run if the tag to be dropped is used in the definition of a tag-based graph; the graph must be dropped first.</p>
</div>
<div class="paragraph">
<p>{% code title="Syntax for DROP TAG" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-erlang hljs" data-lang="erlang">DROP TAG &lt;tag_name&gt; ["," &lt;tag_name&gt;]*</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_schema_change_job"><a class="anchor" href="#_run_schema_change_job"></a><strong><code>RUN SCHEMA_CHANGE JOB</code></strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>RUN SCHEMA_CHANGE JOB job_name</strong> performs the schema change job. After the schema has been changed, the GSQL system checks all existing GSQL queries. If an existing GSQL query uses a dropped vertex, edge, or attribute, the query becomes invalid, and GSQL will show the message "Query <em>query_name</em> becomes invalid after schema update, please update it.".</p>
</div>
<div class="paragraph">
<p>Below is an example. The schema change job add_reviews adds a Review vertex type and two edge types to connect reviews to users and books, respectively.</p>
</div>
<div class="paragraph">
<p>{% code title="SCHEMA_CHANGE JOB example" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">USE GRAPH Book_rating
CREATE SCHEMA_CHANGE JOB add_reviews FOR GRAPH Book_rating {
    ADD VERTEX Review (PRIMARY_ID id UINT, review_date DATETIME, url STRING);
    ADD UNDIRECTED EDGE wrote_review (FROM User, TO Review);
    ADD UNDIRECTED EDGE review_of_book (FROM Review, TO Book);
}
RUN SCHEMA_CHANGE JOB add_reviews</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_drop_schema_change_job"><a class="anchor" href="#_drop_schema_change_job"></a><code>DROP SCHEMA_CHANGE JOB</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>To drop (remove) a schema change job, run <code>DROP JOB schema_change_job</code> name from the GSQL shell. The specific schema change job will be removed from GSQL. Refer to the <a href="creating-a-loading-job.md#drop-job-statement">Creating a Loading Job page</a> for more information about dropping jobs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">GSQL &gt; USE GRAPH Book_rating
GSQL &gt; DROP JOB local_schema_change123
The job local_schema_change_change123 is dropped!</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_global"><a class="anchor" href="#_use_global"></a><strong><code>USE GLOBAL</code></strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p>{% hint style="info" %}
The USE GLOBAL command changes a superuser&#8217;s mode to Global mode.  In global mode, a superuser can define or modify global vertex and edge types, as well as specifying which graphs use those global types.  For example, the user should run USE GLOBAL before creating or running a GLOBAL SCHEMA_CHANGE JOB.
{% endhint %}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_global_schema_change_job"><a class="anchor" href="#_create_global_schema_change_job"></a><strong><code>CREATE GLOBAL SCHEMA_CHANGE JOB</code></strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>CREATE GLOBAL SCHEMA_CHANGE JOB</code> block defines a sequence of <code>ADD</code>, <code>ALTER</code>, and <code>DROP</code> statements that modify either the attributes or the graph membership of global vertex or edge types. Unlike the non-global schema change job, the header does not include a graph name. However, the <code>ADD</code>/<code>ALTER</code>/<code>DROP</code> statements in the body do mention graphs.</p>
</div>
<div class="paragraph">
<p>{% code title="CREATE GLOBAL SCHEMA_CHANGE JOB syntax" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE GLOBAL SCHEMA_CHANGE JOB job_name {
    [sequence of global DROP, ALTER, and ADD statements, each line ending with a semicolon]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="paragraph">
<p>Although both global and local schema change jobs have <code>ADD</code> and <code>DROP</code> statements, they have different meanings. The table below outlines the differences.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Local</th>
<th class="tableblock halign-left valign-top">Global</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ADD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines a new local vertex/edge type;  adds it to the graph&#8217;s domain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds one or more existing global  vertex/edge types to a graph&#8217;s domain.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DROP</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deletes a local vertex/edge type  and its vertex/edge instances</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes one or more existing global  vertex/edge types from a graph&#8217;s domain.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALTER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds or drops attributes from a local  vertex/edge type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds or drops attributes from a global vertex/edge type, which may affect several graphs.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>{% hint style="danger" %}
Remember to include a semicolon at the end of each <code>DROP</code>, <code>ALTER</code>, or <code>ADD</code> statement within the JOB block.
{% endhint %}</p>
</div>
<div class="sect2">
<h3 id="_add_vertex_edge_global"><a class="anchor" href="#_add_vertex_edge_global"></a><strong><code>ADD VERTEX | EDGE</code> (global)</strong></h3>
<div class="paragraph">
<p>{% hint style="info" %}
 The ADD statement adds existing global vertex or edge types to one of the graphs.
{% endhint %}</p>
</div>
<div class="paragraph">
<p>{% code title="ADD VERTEX / UNDIRECTED EDGE / DIRECTED EDGE (Global)" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ADD VERTEX v_type_name [',' v_type_name...] TO GRAPH gname;
ADD EDGE e_type_name [',' e_type_name...] TO GRAPH gname;</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
<div class="sect2">
<h3 id="_alter_vertex_edge_2"><a class="anchor" href="#_alter_vertex_edge_2"></a><strong><code>ALTER VERTEX | EDGE</code></strong></h3>
<div class="paragraph">
<p>{% hint style="info" %}
The <code>ALTER</code> statement is used to add attributes to or remove attributes from an existing global vertex type or edge type. The <code>ALTER VERTEX / EDGE</code> syntax for global schema changes is the same as that for local schema change jobs.
{% endhint %}</p>
</div>
<div class="paragraph">
<p>The ALTER statement is used to add attributes to or remove attributes from an existing vertex type or edge type. It can also be used to add or remove source (FROM) vertex types or destination (TO) vertex types of an edge type.  It may only be used within a SCHEMA_CHANGE JOB.  The basic format is as follows:</p>
</div>
<div class="paragraph">
<p>{% code title="ALTER VERTEX / EDGE" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER VERTEX|EDGE object_type_name ADD|DROP (attribute_list);</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
<div class="sect3">
<h4 id="_alter_add_2"><a class="anchor" href="#_alter_add_2"></a><strong><code>ALTER ... ADD</code></strong></h4>
<div class="paragraph">
<p>Added attributes are appended to the end of the schema.  The new attributes may include DEFAULT fields. To add attributes to a vertex type, the syntax is as follows:</p>
</div>
<div class="paragraph">
<p>{% tabs %}
{% tab title="ALTER VERTEX &#8230;&#8203; ADD" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER VERTEX vertex_type_name ADD
    ATTRIBUTE (attribute_name type [DEFAULT default_value]
    [',' attribute_name type [DEFAULT default_value]]* );</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endtab %}
{% endtabs %}</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER VERTEX Company ADD ATTRIBUTE (industry
STRING, marketcap DOUBLE)</code></pre>
</div>
</div>
<div class="paragraph">
<p>To add to an edge&#8217;s endpoint vertex types or attributes, the syntax is as follows:</p>
</div>
<div class="paragraph">
<p>{% tabs %}
{% tab title="ALTER EDGE&#8230;&#8203; ADD" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER EDGE edge_type_name ADD
    [FROM (vertex_type_name [','vertex_type_name])]
    [TO (vertex_type_name [','vertex_type_name])]
    [ATTRIBUTE (attribute_name type [DEFAULT default_value]
    [',' attribute_name type [DEFAULT default_value]]* )];</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endtab %}
{% endtabs %}</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER EDGE Like ADD TO (Animal) ATTRIBUTE (suggested_by STRING)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_alter_edge_add_pair_2"><a class="anchor" href="#_alter_edge_add_pair_2"></a><code>ALTER EDGE .. ADD PAIR</code></h4>
<div class="paragraph">
<p><code>ALTER EDGE ... ADD PAIR</code> adds one or more edge pairs, which refer to the <code>FROM</code> and <code>TO</code> vertex types of  an edge type. To add an edge pair, put the vertex type names in parentheses after keywords <code>FROM</code> and <code>TO</code>.</p>
</div>
<div class="paragraph">
<p><strong>Syntax</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER EDGE edgeType ADD PAIR
"(" FROM vertexType, TO vertexType (| FROM vertexType, TO vertexType)* ")”</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="paragraph">
<p>In the example below, the first statement in the schema change job will add an edge pair (<code>FROM person, TO company</code>) to the edge type <code>visit</code>.  The second example adds two edge pairs to the edge type <code>has_pet</code>; the edge type can now connect both <code>person</code> and <code>dog</code> vertices, as well as <code>person</code> and <code>bird</code> vertices.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE GLOBAL SCHEMA_CHANGE JOB job2 FOR GRAPH example_graph {
  ALTER EDGE visit ADD PAIR (FROM person, TO company);
  ALTER EDGE has_pet ADD PAIR (FROM person, TO dog | FROM person, TO bird);
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_alter_drop_2"><a class="anchor" href="#_alter_drop_2"></a><strong><code>ALTER ... DROP</code></strong></h4>
<div class="paragraph">
<p>The syntax for <code>ALTER ... DROP</code> is analogous to that of <code>ALTER ... ADD</code>.</p>
</div>
<div class="paragraph">
<p>{% code title="ALTER &#8230;&#8203; DROP" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER VERTEX|EDGE object_type_name DROP ATTRIBUTE (
      attribute_name [',' attribute_name]* );</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
<div class="sect3">
<h4 id="_alter_vertex_with_beta_2"><a class="anchor" href="#_alter_vertex_with_beta_2"></a><code>ALTER VERTEX ... WITH</code> (Beta)</h4>
<div class="paragraph">
<p>The statement <code>ALTER VERTEX WITH TAGGABLE</code> is used to mark a vertex type as taggable or untaggable. Vertex types are untaggable by default. When a vertex type is marked as taggable, the vertex type can be used to <a href="defining-a-graph-schema.md#create-graph-as-beta">create a tag-based graph</a>. Additionally, users with the tag-access privilege can tag vertices whose vertex type is marked as taggable.</p>
</div>
<div class="paragraph">
<p>{% code title="ALTER VERTEX WITH TAGGABLE" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER VERTEX v_type_name WITH TAGGABLE = ("true" | "false")</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_drop_vertex_edge_global"><a class="anchor" href="#_drop_vertex_edge_global"></a><strong><code>DROP VERTEX | EDGE</code> (global)</strong></h3>
<div class="paragraph">
<p>{% hint style="info" %}
 The DROP statement removes specified global vertex or edge types from one of the graphs. The command does not delete any data.
{% endhint %}</p>
</div>
<div class="paragraph">
<p>{% code title="drop vertex / edge" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">DROP VERTEX v_type_name [',' v_type_name...] FROM GRAPH gname;
DROP EDGE e_type_name   [',' e_type_name...] FROM GRAPH gname;</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_global_schema_change_job"><a class="anchor" href="#_run_global_schema_change_job"></a><strong><code>RUN GLOBAL SCHEMA_CHANGE JOB</code></strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p>{% hint style="info" %}
<strong>RUN GLOBAL SCHEMA_CHANGE JOB job_name</strong> performs the global schema change job. After the schema has been changed, the GSQL system checks all existing GSQL queries. If an existing GSQL query uses a dropped vertex, edge, or attribute, the query becomes invalid, and GSQL will show the message "Query <em>query_name</em> becomes invalid after schema update, please update it.".
{% endhint %}</p>
</div>
<div class="paragraph">
<p>Below is an example. The schema change alter_friendship_make_library drops the on_date attribute from the friend_of edge and adds Book type to the library graph.</p>
</div>
<div class="paragraph">
<p>{% code title="GLOBAL SCHEMA_CHANGE JOB example" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">USE GLOBAL
CREATE GRAPH library()
CREATE GLOBAL SCHEMA_CHANGE JOB alter_friendship_make_library {
    ALTER EDGE friend_of DROP ATTRIBUTE (on_date);
    ADD VERTEX Book TO GRAPH library;
}
RUN GLOBAL SCHEMA_CHANGE JOB alter_friendship_make_library</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_drop_global_schema_change_job"><a class="anchor" href="#_drop_global_schema_change_job"></a><code>DROP GLOBAL SCHEMA_CHANGE JOB</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Global schema change jobs can be dropped by using the DROP JOB command. Refer to the <a href="creating-a-loading-job.html" class="page">Creating a Loading Job page</a> for more information about dropping jobs.</p>
</div>
<div class="paragraph">
<p>{% code title="DROP GLOBAL SCHEMA_CHANGE JOB example" %}</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">USE GLOBAL
DROP JOB alter_friendship_make_library</code></pre>
</div>
</div>
<div class="paragraph">
<p>{% endcode %}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_drop_all"><a class="anchor" href="#_drop_all"></a><code>DROP ALL</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The DROP ALL command clears all graph data, all graph schemas, all loading jobs, and all queries. It should only be used when the intent is to erase an entire database design and to start over.</p>
</div>
<div class="paragraph">
<p>This command is only available to superusers and only when they are in global mode.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
